var vGraph=function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}(function(modules){for(var i in modules)if(Object.prototype.hasOwnProperty.call(modules,i))switch(typeof modules[i]){case"function":break;case"object":modules[i]=function(_m){var args=_m.slice(1),fn=modules[_m[0]];return function(a,b,c){fn.apply(this,[a,b,c].concat(args))}}(modules[i]);break;default:modules[i]=modules[modules[i]]}return modules}([function(module,exports,__webpack_require__){"use strict";__webpack_require__(112),module.exports={calculations:__webpack_require__(11),component:__webpack_require__(76),data:__webpack_require__(78),draw:__webpack_require__(108),lib:__webpack_require__(110),stats:__webpack_require__(18)}},function(module,exports){module.exports=angular},function(module,exports){module.exports=d3},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function appendChildren(self,dataSets,children){var i,child,dataSet,root=self.element;for(i=children.length-1;i!==-1;i--)dataSet=dataSets[i],child=children[i],self.drawer.getHitbox&&self.chart.addHitbox(self.drawer.getHitbox(dataSet),child),root.appendChild(child),self.onAppend&&self.onAppend(child,dataSet)}function make(dataSets,maker){var i,c,t,res=[];for(i=0,c=dataSets.length;i<c;i++)t=maker(dataSets[i]),t&&res.push(t);return res}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),StatCalculations=__webpack_require__(18),Element=function(){function Element(){_classCallCheck(this,Element),this.children=null}return _createClass(Element,null,[{key:"svgCompile",value:function(template){var els=(new DOMParser).parseFromString('<g xmlns="http://www.w3.org/2000/svg">'+template+"</g>","image/svg+xml").childNodes[0].childNodes;return els}}]),_createClass(Element,[{key:"configure",value:function(chart,drawer,domNode,name,publish){var refs=[],references=drawer.getReferences();this.name=name,this.chart=chart,this.publish=publish,this.element=domNode,this.drawer=drawer,this.references=refs,references.forEach(function(ref){ref&&refs.push(ref)}),name&&drawer.getJson&&chart.registerFeed(name,function(){return drawer.getJson()})}},{key:"parse",value:function(){var drawer=this.drawer;return drawer.parse(StatCalculations.getIndexs(this.references)),drawer.getLimits()}},{key:"closeSets",value:function(){var i,c,prev,dataSet,box=this.chart.box,drawer=this.drawer,dataSets=drawer.dataSets;if(dataSets.length){for(prev=dataSets[0],drawer.firstSet?drawer.firstSet(prev,box):drawer.closeSet(prev),i=1,c=dataSets.length-1;i<c;i++)dataSet=dataSets[i],drawer.closeSet(dataSet,prev),prev=dataSet;drawer.lastSet?drawer.lastSet(dataSets[c],prev,box):c>0&&drawer.closeSet(dataSets[c],prev)}}},{key:"build",value:function(){var els,root=this.element,drawer=this.drawer,dataSets=drawer.dataSets;if(dataSets){if(this.closeSets(),this.publish&&this.chart.$trigger("publish:"+this.publish,drawer.publish?drawer.publish():dataSets),root.innerHTML="",drawer.makeAxis)for(els=Element.svgCompile(drawer.makeAxis());els.length;)root.appendChild(els[0]);"g"===root.tagName?appendChildren(this,dataSets,Element.svgCompile(make(dataSets,drawer.makeElement.bind(drawer)).join(""))):root.setAttribute("d",make(dataSets,drawer.makePath.bind(drawer)).join(""))}}}]),Element}();module.exports=Element},function(module,exports){"use strict";function isUndefined(value){return void 0===value}function isDefined(value){return void 0!==value}function isString(value){return"string"==typeof value}function isNumber(value){return"number"==typeof value}function isFunction(value){return"function"==typeof value}function isObject(value){return value&&"object"===("undefined"==typeof value?"undefined":_typeof(value))}function isBoolean(value){return"boolean"==typeof value}function isArrayLike(value){return!!value&&(isObject(value)&&(0===value.length||0 in value&&value.length-1 in value))}function isArray(value){return value instanceof Array}function isEmpty(value){var key;if(!isObject(value))return isArrayLike(value)?0===value.length:isUndefined(value);for(key in value)if(value.hasOwnProperty(key))return!1;return!0}function parse(space){return space?isString(space)?space.split("."):isArray(space)?space.slice(0):space:[]}function set(root,space,value){var i,c,old,val,nextSpace,curSpace=root;if(isString(space)){for(space=space.split("."),val=space.pop(),i=0,c=space.length;i<c;i++)nextSpace=space[i],isUndefined(curSpace[nextSpace])&&(curSpace[nextSpace]={}),curSpace=curSpace[nextSpace];old=curSpace[val],curSpace[val]=value}return old}function _makeSetter(property,next){return next?function(ctx,value){var t=ctx[property];return t||(t=ctx[property]={}),next(t,value)}:function(ctx,value){var t=ctx[property];return ctx[property]=value,t}}function makeSetter(space){var i,fn,readings=space.split(".");for(i=readings.length-1;i>-1;i--)fn=_makeSetter(readings[i],fn);return fn}function get(root,space){var i,c,nextSpace,curSpace=root;if(isString(space)){if(space.length)for(space=space.split("."),i=0,c=space.length;i<c;i++){if(nextSpace=space[i],isUndefined(curSpace[nextSpace]))return;curSpace=curSpace[nextSpace]}return curSpace}throw new Error("unsupported type: "+space)}function _makeGetter(property,next){return next?function(obj){try{return next(obj[property])}catch(ex){return}}:function(obj){try{return obj[property]}catch(ex){return}}}function makeGetter(space){var i,fn;if(!space.length)return function(obj){return obj};for(space=space.split("."),i=space.length-1;i>-1;i--)fn=_makeGetter(space[i],fn);return fn}function exec(root,space,args,ctx){var i,c,last,nextSpace,curSpace=root;if(isString(space)){if(space.length)for(space=space.split("."),i=0,c=space.length;i<c;i++){if(nextSpace=space[i],isUndefined(curSpace[nextSpace]))return;last=curSpace,curSpace=curSpace[nextSpace]}if(curSpace)return curSpace.apply(ctx||last,args||[])}throw new Error("unsupported eval: "+space)}function _makeExec(property,next){return next?function(obj,args,ctx){try{return next(obj[property],args,ctx)}catch(ex){return}}:function(obj,args,ctx){return obj[property].apply(ctx||obj,args||[])}}function makeExec(space){var i,fn;if(!space.length)throw new Error("unsupported eval: "+space);for(space=space.split("."),fn=_makeExec(space[space.length-1]),i=space.length-2;i>-1;i--)fn=_makeExec(space[i],fn);return fn}function load(root,space){var i,c,arr,res;if(space=space.split("[]"),1===space.length)return[get(root,space[0])];if(arr=get(root,space[0]),res=[],arr)for(i=0,c=arr.length;i<c;i++)res.push(get(arr[i],space[1]));return res}function makeLoader(space){var getArray,getVariable;return space=space.split("[]"),1===space.length?[makeGetter(space[0])]:(getArray=makeGetter(space[0]),getVariable=makeGetter(space[1]),function(obj){var i,c,arr=getArray(obj),res=[];if(arr)for(i=0,c=arr.length;i<c;i++)res.push(getVariable(arr[i]));return res})}function del(root,space){var old,val,nextSpace,curSpace=root;if(space&&(isString(space)||isArrayLike(space))){space=parse(space),val=space.pop();for(var i=0;i<space.length;i++){if(nextSpace=space[i],isUndefined(curSpace[nextSpace]))return;curSpace=curSpace[nextSpace]}old=curSpace[val],delete curSpace[val]}return old}function loop(arr,fn,context){var i,c;if(context||(context=arr),arr.forEach)arr.forEach(fn,context);else for(i=0,c=arr.length;i<c;++i)i in arr&&fn.call(context,arr[i],i,arr)}function each(obj,fn,context){var key;context||(context=obj);for(key in obj)obj.hasOwnProperty(key)&&fn.call(context,obj[key],key,obj)}function iterate(obj,fn,context){var key;context||(context=obj);for(key in obj)obj.hasOwnProperty(key)&&"_"!==key.charAt(0)&&fn.call(context,obj[key],key,obj)}function safe(obj,fn,context){var key;context||(context=obj);for(key in obj)obj.hasOwnProperty(key)&&"_"!==key.charAt(0)&&"$"!==key.charAt(0)&&fn.call(context,obj[key],key,obj)}function naked(obj,fn,context){safe(obj,function(t,k,o){isFunction(t)||fn.call(context,t,k,o)})}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};module.exports={isUndefined:isUndefined,isDefined:isDefined,isString:isString,isNumber:isNumber,isFunction:isFunction,isObject:isObject,isBoolean:isBoolean,isArrayLike:isArrayLike,isArray:isArray,isEmpty:isEmpty,parse:parse,set:set,makeSetter:makeSetter,get:get,makeGetter:makeGetter,exec:exec,makeExec:makeExec,load:load,makeLoader:makeLoader,del:del,loop:loop,each:each,iterate:iterate,safe:safe,naked:naked}},function(module,exports){"use strict";function isUndefined(value){return void 0===value}function isDefined(value){return void 0!==value}function isString(value){return"string"==typeof value}function isNumber(value){return"number"==typeof value}function isFunction(value){return"function"==typeof value}function isObject(value){return value&&"object"===("undefined"==typeof value?"undefined":_typeof(value))}function isBoolean(value){return"boolean"==typeof value}function isArrayLike(value){return!!value&&(isObject(value)&&(0===value.length||0 in value&&value.length-1 in value))}function isArray(value){return value instanceof Array}function isEmpty(value){var key;if(!isObject(value))return isArrayLike(value)?0===value.length:isUndefined(value);for(key in value)if(value.hasOwnProperty(key))return!1;return!0}function parse(space){return space?isString(space)?space.split("."):isArray(space)?space.slice(0):space:[]}function set(root,space,value){var i,c,old,val,nextSpace,curSpace=root;if(isString(space)){for(space=space.split("."),val=space.pop(),i=0,c=space.length;i<c;i++)nextSpace=space[i],isUndefined(curSpace[nextSpace])&&(curSpace[nextSpace]={}),curSpace=curSpace[nextSpace];old=curSpace[val],curSpace[val]=value}return old}function _makeSetter(property,next){return next?function(ctx,value){var t=ctx[property];return t||(t=ctx[property]={}),next(t,value)}:function(ctx,value){var t=ctx[property];return ctx[property]=value,t}}function makeSetter(space){var i,fn,readings=space.split(".");for(i=readings.length-1;i>-1;i--)fn=_makeSetter(readings[i],fn);return fn}function get(root,space){var i,c,nextSpace,curSpace=root;if(isString(space)){if(space.length)for(space=space.split("."),i=0,c=space.length;i<c;i++){if(nextSpace=space[i],isUndefined(curSpace[nextSpace]))return;curSpace=curSpace[nextSpace]}return curSpace}throw new Error("unsupported type: "+space)}function _makeGetter(property,next){return next?function(obj){try{return next(obj[property])}catch(ex){return}}:function(obj){try{return obj[property]}catch(ex){return}}}function makeGetter(space){var i,fn;if(!space.length)return function(obj){return obj};for(space=space.split("."),i=space.length-1;i>-1;i--)fn=_makeGetter(space[i],fn);return fn}function exec(root,space,args,ctx){var i,c,last,nextSpace,curSpace=root;if(isString(space)){if(space.length)for(space=space.split("."),i=0,c=space.length;i<c;i++){if(nextSpace=space[i],isUndefined(curSpace[nextSpace]))return;last=curSpace,curSpace=curSpace[nextSpace]}if(curSpace)return curSpace.apply(ctx||last,args||[])}throw new Error("unsupported eval: "+space)}function _makeExec(property,next){return next?function(obj,args,ctx){try{return next(obj[property],args,ctx)}catch(ex){return}}:function(obj,args,ctx){return obj[property].apply(ctx||obj,args||[])}}function makeExec(space){var i,fn;if(!space.length)throw new Error("unsupported eval: "+space);for(space=space.split("."),fn=_makeExec(space[space.length-1]),i=space.length-2;i>-1;i--)fn=_makeExec(space[i],fn);return fn}function load(root,space){var i,c,arr,res;if(space=space.split("[]"),1===space.length)return[get(root,space[0])];if(arr=get(root,space[0]),res=[],arr)for(i=0,c=arr.length;i<c;i++)res.push(get(arr[i],space[1]));return res}function makeLoader(space){var getArray,getVariable;return space=space.split("[]"),1===space.length?[makeGetter(space[0])]:(getArray=makeGetter(space[0]),getVariable=makeGetter(space[1]),function(obj){var i,c,arr=getArray(obj),res=[];if(arr)for(i=0,c=arr.length;i<c;i++)res.push(getVariable(arr[i]));return res})}function del(root,space){var old,val,nextSpace,curSpace=root;if(space&&(isString(space)||isArrayLike(space))){space=parse(space),val=space.pop();for(var i=0;i<space.length;i++){if(nextSpace=space[i],isUndefined(curSpace[nextSpace]))return;curSpace=curSpace[nextSpace]}old=curSpace[val],delete curSpace[val]}return old}function loop(arr,fn,context){var i,c;if(context||(context=arr),arr.forEach)arr.forEach(fn,context);else for(i=0,c=arr.length;i<c;++i)i in arr&&fn.call(context,arr[i],i,arr)}function each(obj,fn,context){var key;context||(context=obj);for(key in obj)obj.hasOwnProperty(key)&&fn.call(context,obj[key],key,obj)}function iterate(obj,fn,context){var key;context||(context=obj);for(key in obj)obj.hasOwnProperty(key)&&"_"!==key.charAt(0)&&fn.call(context,obj[key],key,obj)}function safe(obj,fn,context){var key;context||(context=obj);for(key in obj)obj.hasOwnProperty(key)&&"_"!==key.charAt(0)&&"$"!==key.charAt(0)&&fn.call(context,obj[key],key,obj)}function naked(obj,fn,context){safe(obj,function(t,k,o){isFunction(t)||fn.call(context,t,k,o)})}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};module.exports={isUndefined:isUndefined,isDefined:isDefined,isString:isString,isNumber:isNumber,isFunction:isFunction,isObject:isObject,isBoolean:isBoolean,isArrayLike:isArrayLike,isArray:isArray,isEmpty:isEmpty,parse:parse,set:set,makeSetter:makeSetter,get:get,makeGetter:makeGetter,exec:exec,makeExec:makeExec,load:load,makeLoader:makeLoader,del:del,loop:loop,each:each,iterate:iterate,safe:safe,naked:naked}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Classifier=__webpack_require__(17),Linear=function(){function Linear(refs){_classCallCheck(this,Linear);var i,c,ref,t=[];for(i=0,c=refs.length;i<c;i++)ref=refs[i],ref&&(t.push(ref),ref.classify?this.classifier=new Classifier(ref.classify):ref.classifier&&(this.classifier=ref.classifier));this.references=t}return _createClass(Linear,null,[{key:"isNumeric",value:function(v){return v||0===v}}]),_createClass(Linear,[{key:"getReferences",value:function(){return this.references}},{key:"makeSet",value:function(){return[]}},{key:"getPoint",value:function(){}},{key:"mergePoint",value:function(parsed,set){parsed&&set.push(set)}},{key:"isValidSet",value:function(set){return 0!==set.length}},{key:"parse",value:function(keys){function closeSet(){dis.isValidSet(set)&&sets.push(set),set=dis.makeSet()}var i,c,raw,state,parsed,dis=this,set=this.makeSet(),sets=[];for(i=0,c=keys.length;i<c;i++)state=0,raw=keys[i],parsed=this.getPoint(raw),parsed?(parsed.classified&&(set.classified&&(this.classifier.isEqual(set.classified,parsed.classified)||closeSet()),set.classified=parsed.classified),state=this.mergePoint(parsed,set),state!==-1&&(closeSet(),set.classified=parsed.classified,state&&this.mergePoint(parsed,set))):closeSet();this.isValidSet(set)&&sets.push(set),this.dataSets=sets}},{key:"getLimits",value:function(){var min,max;return this.references.forEach(function(ref){ref.$ops.getValue&&ref.$ops.eachNode(function(node){var v=ref.$ops.getValue(node);(v||0===v)&&(void 0===min?(min=v,max=v):min>v?min=v:max<v&&(max=v))})}),{min:min,max:max}}},{key:"closeSet",value:function(set){return set}},{key:"makeElement",value:function(convertedSet){return console.log("makeElement",convertedSet),"<text>Element not overriden</text>"}},{key:"makePath",value:function(convertedSet){return console.log("makePath",convertedSet),"M0,0Z"}}]),Linear}();module.exports=Linear},function(module,exports,__webpack_require__){"use strict";var bmoor=Object.create(__webpack_require__(4));bmoor.dom=__webpack_require__(54),bmoor.data=__webpack_require__(53),bmoor.array=__webpack_require__(48),bmoor.object=__webpack_require__(57),bmoor.build=__webpack_require__(49),bmoor.string=__webpack_require__(59),bmoor.promise=__webpack_require__(58),bmoor.interfaces=__webpack_require__(55),module.exports=bmoor},function(module,exports){"use strict";module.exports=function(obj){obj.$on=function(event,cb){var dis=this;return this._$listeners||(this._$listeners={}),this._$listeners[event]||(this._$listeners[event]=[]),this._$listeners[event].push(cb),function(){dis._$listeners[event].splice(dis._$listeners[event].indexOf(cb),1)}},obj.$subscribe=function(subscriptions){var dis=this,kills=[],events=Object.keys(subscriptions);return events.forEach(function(event){var action=subscriptions[event];kills.push(dis.$on(event,action))}),function(){kills.forEach(function(kill){kill()})}},obj.$trigger=function(event,arg){var listeners,i,c;if(this._$listeners&&(listeners=this._$listeners[event]))for(i=0,c=listeners.length;i<c;i++)listeners[i](arg)}}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function manageFilter(collection,datum,filter){var isIn=filter(datum);return collection._addRegistration(datum,datum.$observe.on("update",function(){var nowIs=filter(datum);isIn!==nowIs&&(nowIs?collection.insert(datum):collection.remove(datum),isIn=nowIs)})),isIn}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),proto=Array.prototype,bmoor=__webpack_require__(7),getUid=bmoor.data.getUid,Observor=__webpack_require__(23),Collection=function(_bmoor$build){function Collection(){_classCallCheck(this,Collection);var i,c,_this=_possibleConstructorReturn(this,(Collection.__proto__||Object.getPrototypeOf(Collection)).call(this));for(bmoor.data.setUid(_this),_this._contains={},_this._following={},_this._registrations={},i=0,c=arguments.length;i<c;i++)_this.consume(arguments[i]);return _this}return _inherits(Collection,_bmoor$build),_createClass(Collection,[{key:"_canInsert",value:function(obj){var id=getUid(obj);return!this._contains[id]&&(!this._$filter||this._$filter(obj))}},{key:"_onInsert",value:function(datum){var id=getUid(datum);this.trigger("insert",datum),this._$filter&&manageFilter(this,datum,this._$filter),this._contains[id]=1}},{key:"_canRemove",value:function(obj){var id=getUid(obj),c=--this._contains[id];return!c}},{key:"_onRemove",value:function(obj){var uid=getUid(obj),fn=this._registrations[uid];this.trigger("remove",obj),fn&&(fn(),this._registrations[uid]=null)}},{key:"_addRegistration",value:function(datum,unreg){var uid=getUid(datum),old=this._registrations[uid];old?this._registrations[uid]=function(){unreg(),old()}:this._registrations[uid]=unreg}},{key:"get",value:function(pos){return this[pos]}},{key:"insert",value:function(datum,front){return Observor.enforce(datum),!!this._canInsert(datum)&&(front?proto.unshift.call(this,datum):proto.push.call(this,datum),this._onInsert(datum),!0)}},{key:"setFilter",value:function(fn){var i,datum;for(this._$filter=fn.bind(this),i=0;i<this.length;i++)datum=this[i],manageFilter(datum,fn.bind(this))||(this.splice(i,1),i--)}},{key:"remove",value:function(obj){var t;return!!this._canRemove(obj)&&(t=bmoor.array.remove(this,obj),this._onRemove(t),!0)}},{key:"consume",value:function(obj){var i,c;if(obj instanceof Collection)this.follow(obj);else if(bmoor.isArray(obj))for(i=0,c=obj.length;i<c;i++)this.insert(obj[i]);else this.insert(obj)}},{key:"toArray",value:function(){return this.slice(0)}},{key:"follow",value:function(collection){var uid=bmoor.data.getUid(collection);this._following[uid]||(this._following[uid]=collection.lead(this))}},{key:"lead",value:function(collection){var i,c;for(i=0,c=this.length;i<c;i++)collection.insert(this[i]);return this.subscribe({insert:collection.insert.bind(collection),remove:collection.remove.bind(collection)})}},{key:"unfollow",value:function(collection){var i,c,id=bmoor.data.getUid(collection);if(this._following[id]){for(i=0,c=collection.length;i<c;i++)this.remove(collection[i]);this._following[id](),this._following[id]=null}}},{key:"push",value:function(obj){this.insert(obj,!1)}},{key:"unshift",value:function(obj){this.insert(obj,!0)}},{key:"pop",value:function(){var obj=this[this.length-1];this._canRemove(obj)&&(proto.pop.call(this),this._onRemove(obj))}},{key:"shift",value:function(){var obj=this[0];this._canRemove(obj)&&(proto.shift.call(this),this._onRemove(obj))}},{key:"$filter",value:function(fn){var child=new Collection;return child.setFilter(fn),this.lead(child),child}},{key:"$concat",value:function(){var i,c,child=new Collection;for(this.lead(child),i=0,c=arguments;i<c;i++)child.consume(arguments[i]);return child}}]),Collection}(bmoor.build(Array,{mixin:bmoor.interfaces.Eventing}));module.exports=Collection},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function createCollection(index,hash){var c=new Collection,uid=getUid(c);return index.hashes[hash]=c,index.collections[uid]=c,c}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),bmoor=__webpack_require__(7),getUid=bmoor.data.getUid,Collection=__webpack_require__(9),Index=function(){function Index(hasher,src){var _this=this;_classCallCheck(this,Index),this.nodes={},this.hashes={},this.collections={},this._registrations={},this.hasher=hasher,this.update=function(change,datum){change&&!_this.hasher.canFulfill(change)||_this.insert(datum)},src&&src.lead(this)}return _createClass(Index,[{key:"_addRegistration",value:function(datum,unreg){var uid=getUid(datum),old=this._registrations[uid];old?this._registrations[uid]=function(){unreg(),old()}:this._registrations[uid]=unreg}},{key:"_insert",value:function(cuid,datum){var collection=this.collections[cuid];if(collection&&collection.insert(datum))return collection}},{key:"insert",value:function(datum){var ocid,cuid,ouid,collection=this.select(datum);if(collection){if(cuid=getUid(collection),ouid=getUid(datum),ocid=this.nodes[ouid]){if(ocid!==cuid){if(this._remove(ocid,datum),this._insert(cuid,datum))return null;this.nodes[ouid]=cuid}}else{if(!this._insert(cuid,datum))return null;this.nodes[ouid]=cuid,this._addRegistration(datum,datum.$observe.on("update",this.update))}return collection}return null}},{key:"_remove",value:function(cuid,datum){var collection=this.collections[cuid];if(collection&&collection.remove(datum))return collection}},{key:"remove",value:function(datum){var ouid=getUid(datum),cuid=this.nodes[ouid];return!(!cuid||!this._remove(cuid,datum))&&(this._registrations[ouid](),this.nodes[ouid]=null,!0)}},{key:"select",value:function(search){var hash;return this.hasher.canFulfill(search)?(hash=this.hasher.hash(search),this.hashes[hash]||createCollection(this,hash)):null}},{key:"consume",value:function(obj){var i,c;if(obj instanceof Collection)obj.lead(this);else if(bmoor.isArray(obj))for(i=0,c=obj.length;i<c;i++)this.insert(obj[i]);else this.insert(obj)}}]),Index}();module.exports=Index},function(module,exports){"use strict";function stackFunc(old,fn){return fn?old?function(node){old(node),fn(node)}:fn:old}function makeExtremeTest(compare){return function(count,getValue,attr){var i,maxs;return{prep:function(){maxs=[]},reset:function(){maxs.forEach(function(n){n.node[attr]=!1})},calc:function(node){var v=getValue(node);if(maxs.length<count)maxs.push({value:v,node:node}),maxs.length===count&&maxs.sort(function(a,b){return a.value-b.value});else if(compare(v,maxs[0].value))if(maxs.shift(),compare(maxs[0].value,v))maxs.unshift({value:v,node:node});else if(compare(v,maxs[maxs.length-1].value))maxs.push({value:v,node:node});else for(i=maxs.length-2;i>=0;i--)compare(v,maxs[i].value)&&(maxs.splice(i+1,0,{value:v,node:node}),i=0)},finalize:function(){maxs.forEach(function(n){n.node[attr]=!0})}}}}module.exports={compile:function(calculations){var fn,prep,calc,reset,finalize;return calculations.forEach(function(fn){"function"==typeof fn?calc=stackFunc(calc,fn):(prep=stackFunc(prep,fn.prep),calc=stackFunc(calc,fn.calc),reset=stackFunc(reset,fn.reset),finalize=stackFunc(finalize,fn.finalize))}),fn=function(collection){var i,c;if(calc)for(i=0,c=collection.length;i<c;i++)calc(collection[i]);finalize&&finalize(collection.$stats)},fn.$reset=function(collection){reset&&reset(collection.$stats)},fn.$init=function(collection){prep&&prep(collection.$stats)},fn},maximum:makeExtremeTest(function(a,b){return a>b}),minimum:makeExtremeTest(function(a,b){return a<b}),percentile:function(_percentile,getValue,attr){var data;return{prep:function(){data=[]},calc:function(node){data.push(getValue(node))},finalize:function(stats){var pos=Math.round(data.length*(_percentile/100));data.sort(function(a,b){return a-b}),stats[attr]=data[pos]}}}}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Collection=__webpack_require__(19).Collection,Bucketer=function(_Collection){function Bucketer(hasher,bucketFactory){_classCallCheck(this,Bucketer);var _this=_possibleConstructorReturn(this,(Bucketer.__proto__||Object.getPrototypeOf(Bucketer)).call(this));return _this._hasher=hasher,_this._factory=bucketFactory||function(){return[]},_this.$reset(),_this}return _inherits(Bucketer,_Collection),_createClass(Bucketer,[{key:"push",value:function(datum){var bucket=this._insert(datum);bucket&&Array.prototype.push.call(this,bucket)}},{key:"unshift",value:function(datum){var bucket=this._insert(datum);bucket&&Array.prototype.unshift.call(this,bucket)}},{key:"_insert",value:function(datum){var needNew=!1,index=this._hasher(datum),match=this._$index[index];if(datum.$bucket=index,match||(needNew=!0,match=this._factory(index),this._$index[index]=match,this._$indexs.push(index)),match.push(datum),needNew)return match}},{key:"$reset",value:function(){this.length=0,this._$index={},this._$indexs=[]}},{key:"$getIndexs",value:function(){return this._$indexs}},{key:"$getBucket",value:function(index){return this._$index[index]}}]),Bucketer}(Collection);module.exports=Bucketer},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),List=__webpack_require__(14),Linear=function(_List){
function Linear(){_classCallCheck(this,Linear);var _this=_possibleConstructorReturn(this,(Linear.__proto__||Object.getPrototypeOf(Linear)).call(this,function(d){return d._$index}));return _this.$reset(),_this}return _inherits(Linear,_List),_createClass(Linear,null,[{key:"isNumeric",value:function(value){return null!==value&&void 0!==value&&"object"!==("undefined"==typeof value?"undefined":_typeof(value))}}]),_createClass(Linear,[{key:"isValid",value:function(v){return v||0===v}},{key:"$reset",value:function(){this.length=0,this.$dirty=!1,this.$stats={},this._$index={},this._$indexs=[]}},{key:"addPropertyCopy",value:function(name){var cfn,vfn;this._copyProperties?(cfn=this._copyProperties,this._copyProperties=function(n,o){var v=n[name];void 0!==v&&(o[name]=v),cfn(n,o)},vfn=this._hasValue,this._hasValue=function(d){return!!this.isValid(d[name])||vfn.call(this,d)}):(this._copyProperties=function(n,o){var v=n[name];void 0!==v&&(o[name]=v)},this._hasValue=function(d){return this.isValid(d[name])})}},{key:"addPropertyMap",value:function(fn){var mfn;this._mapProperties?(mfn=this._mapProperties,this._mapProperties=function(n,o){mfn(n,o),fn(n,o)}):this._mapProperties=fn}},{key:"$add",value:function(index,node,front){var dex=+index;return this._$index[dex]||(this._$indexs.push(dex),this._$index[dex]=node,front?(this.length&&dex>this[0]._$index&&(this.$dirty=!0),this.unshift(node)):(this.length&&dex<this[this.length-1]._$index&&(this.$dirty=!0),this.push(node)),this._hasValue&&!this._hasValue(node)||(void 0===this.$minIndex?(this.$minIndex=dex,this.$maxIndex=dex):this.$maxIndex<dex?this.$maxIndex=dex:this.$minIndex>dex&&(this.$minIndex=dex)),node._$index=dex),node}},{key:"_makeNode",value:function(index){var dex=+index,node=this.$getNode(index);if(isNaN(dex))throw new Error("index must be a number, not: "+index+" that becomes "+dex);return node||(node={},this.$add(dex,node)),node}},{key:"$getIndexs",value:function(){return this._$indexs}},{key:"$getNode",value:function(index){return this._$index[index]}},{key:"_setValue",value:function(node,field,value){var dex=node._$index;node.$setValue?node.$setValue(field,value):node[field]=value,this.isValid(value)&&(void 0===this.$minIndex?(this.$minIndex=dex,this.$maxIndex=dex):this.$maxIndex<dex?this.$maxIndex=dex:this.$minIndex>dex&&(this.$minIndex=dex))}},{key:"$setValue",value:function(index,field,value){var node=this._makeNode(index);return this._setValue(node,field,value),node}},{key:"$addNode",value:function(index,newNode,shift){var node,dex=+index;return node=this.$getNode(dex),node?(node.$merge&&node.$merge(newNode),this._mapProperties&&this._mapProperties(newNode,node,dex),this._copyProperties&&this._copyProperties(newNode,node,dex)):(node=this.$makeNode?this.$makeNode(newNode):{},this._mapProperties&&this._mapProperties(newNode,node,dex),this._copyProperties&&this._copyProperties(newNode,node,dex),this.$add(dex,node,shift)),node}},{key:"$getClosest",value:function(value,field){return field||(field="_$index"),this.closest(value,function(datum){return datum?datum[field]:null})}},{key:"$slice",value:function(startIndex,stopIndex){var node,i=-1,filtered=new Linear;this.$sort();do i++,node=this[i];while(node&&node._$index<startIndex);for(;node&&node._$index<=stopIndex;)filtered.push(node),filtered._$index[node._$index]=node,filtered._$indexs.push(node._$index),i++,node=this[i];return filtered.length?(filtered.$minIndex=filtered[0]._$index,filtered.$maxIndex=filtered[filtered.length-1]._$index):filtered.$minIndex=filtered.$maxIndex=0,filtered.$dirty=!1,filtered.$stats=Object.create(this.$stats),filtered.$parent=this,filtered}}]),Linear}(List);module.exports=Linear},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_bisect=__webpack_require__(64).array.bisect,Collection=__webpack_require__(19).Collection,cachedPush=Array.prototype.push,cachedSort=Array.prototype.sort,List=function(_Collection){function List(fn){_classCallCheck(this,List);var _this=_possibleConstructorReturn(this,(List.__proto__||Object.getPrototypeOf(List)).call(this));return _this.$reset(),_this.$getValue=fn,_this}return _inherits(List,_Collection),_createClass(List,[{key:"bisect",value:function(value,getValue){return this.$sort(),_bisect(this,value,getValue,!0)}},{key:"closestPair",value:function(value,getValue){var p=this.bisect(value,getValue||this.$getValue);return{left:this[p.left],right:this[p.right]}}},{key:"closest",value:function(value,getValue){var l,r,p,getter=getValue||this.$getValue;return this.length?(p=this.closestPair(value,getter),l=value-getter(p.left),r=getter(p.right)-value,l<r?p.left:p.right):null}},{key:"$reset",value:function(){this.length=0,this.$dirty=!1}},{key:"sort",value:function(fn){this.$dirty=!0,cachedSort.call(this,fn)}},{key:"$sort",value:function(){var fn=this.$getValue;return this.$dirty&&(this.sort(function(a,b){return fn(a)-fn(b)}),this.$dirty=!1),this}},{key:"absorb",value:function(arr){this.$dirty=!0,cachedPush.apply(this,arr)}}]),List}(Collection);module.exports=List},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},DrawZone=__webpack_require__(42),Box=function(_DrawZone){function Box(ref,settings){_classCallCheck(this,Box);var _this=_possibleConstructorReturn(this,(Box.__proto__||Object.getPrototypeOf(Box)).call(this,[ref],settings));return _this.ref=ref,_this}return _inherits(Box,_DrawZone),_createClass(Box,[{key:"getPoint",value:function(index){var t,value,ops=this.ref.$ops,node=ops.$getNode(index);if(this.ref.isValid(node))return ops.getValue?(value=ops.getValue(node),t={x:node.$x,y1:value,y2:value}):t={x:node.$x,y1:"+",y2:"-"},this.classifier&&(t.classified=this.classifier.parse(node)),t}},{key:"mergePoint",value:function(parsed,set){return!parsed.y1&&0!==parsed.y1||!parsed.y2&&0!==parsed.y2?0:(_get(Box.prototype.__proto__||Object.getPrototypeOf(Box.prototype),"mergePoint",this).call(this,parsed,set),-1)}},{key:"closeSet",value:function(dataSet){var view=this.ref.$ops.$view;dataSet.y1=view.y.scale("+"===dataSet.y1?view.viewport.maxValue:dataSet.y1),dataSet.y2=view.y.scale("-"===dataSet.y2?view.viewport.minValue:dataSet.y2),_get(Box.prototype.__proto__||Object.getPrototypeOf(Box.prototype),"closeSet",this).call(this,dataSet)}}]),Box}(DrawZone);module.exports=Box},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function smoothLine(set,start){for(var change,stop=start-1,begin=set[start];set[stop].$faux;)stop--;for(change=(begin.y-set[stop].y)/(stop-start),start-=1;start>stop;start--)set[start].y=set[start+1].y+change;return stop}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),DrawLinear=__webpack_require__(6),isNumeric=DrawLinear.isNumeric,Line=function(_DrawLinear){function Line(ref){_classCallCheck(this,Line);var _this=_possibleConstructorReturn(this,(Line.__proto__||Object.getPrototypeOf(Line)).call(this,[ref]));return _this.ref=ref,_this}return _inherits(Line,_DrawLinear),_createClass(Line,[{key:"getPoint",value:function(index){var node=this.ref.$ops.$getNode(index);return{classified:this.classifier?this.classifier.parse(node,this.ref.$ops.getStats()):null,x:node.$x,y:this.ref.$ops.getValue(node)}}},{key:"mergePoint",value:function(parsed,set){var x=parsed.x,y=parsed.y,last=set[set.length-1];return isNumeric(y)?(set.push({x:x,y:y}),-1):last&&void 0===y?(set.push({$faux:!0,x:x,y:last.y}),-1):0}},{key:"closeSet",value:function(set){for(var i,t,y;set[set.length-1].$faux;)set.pop();for(i=set.length-1;i>-1;i--)set[i].$faux&&(i=smoothLine(set,i+1));for(i=set.length-1;i>-1;i--)y=set[i].y,t=this.ref.$ops.$view.y.scale(y),set[i].y=t;return set}},{key:"makePath",value:function(dataSet){var i,c,point,res=[];if(dataSet.length){for(i=0,c=dataSet.length;i<c;i++)point=dataSet[i],res.push(point.x+","+point.y);return"M"+res.join("L")}}},{key:"makeElement",value:function(dataSet){var className="";if(dataSet.length)return this.classifier&&(className=this.classifier.getClasses(dataSet.classified)),'<path class="'+className+'" d="'+this.makePath(dataSet)+'"></path>'}}]),Line}(DrawLinear);module.exports=Line},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _makeClassifier(category,fn,old){return old?function(datum,stats){var t=old(datum,stats),v=fn(datum,stats);return t[category]=v,t}:function(datum,stats){var t={},v=fn(datum,stats);return t[category]=v,t}}function makeClassifier(def){var res;return Object.keys(def).forEach(function(category){res=_makeClassifier(category,def[category],res)}),res}function _makeValidator(category,old){return old?function(n,o){return n[category]===o[category]&&old(n,o)}:function(n,o){return n[category]===o[category]}}function makeValidator(def){var res;return Object.keys(def).forEach(function(category){res=_makeValidator(category,res)}),res}function _makeReader(category,old){return old?function(classified){var v=classified[category],t=old(classified);return v?t?t+" "+v:v:t}:function(classified){return classified[category]||""}}function makeReader(def){var res;return Object.keys(def).forEach(function(category){res=_makeReader(category,res)}),function(classified){return classified?res(classified):""}}var Classifier=function Classifier(def){_classCallCheck(this,Classifier),this.parse=makeClassifier(def),this.isEqual=makeValidator(def),this.getClasses=makeReader(def)};module.exports=Classifier},function(module,exports){"use strict";function createNames(config,prefix){var arr=[];return config.forEach(function(cfg){arr.push("$"+prefix+"$"+cfg.$ops.getField())}),arr}module.exports={$resetCalcs:function(config){var i,c;for(i=0,c=config.length;i<c;i++)config[i].$ops.resetField()},$getFields:function(config){var i,c,fields=[];for(i=0,c=config.length;i<c;i++)fields.push(config[i].$ops.getField());return fields},$setFields:function(config,calcedFields){var i,c;for(i=0,c=config.length;i<c;i++)config[i].$ops.setField(calcedFields[i])},getIndexs:function(cfg){var last,indexs;return 1===cfg.length?indexs=cfg[0].$ops.$getIndexs():(indexs=[],cfg.forEach(function(ref){indexs=indexs.concat(ref.$ops.$getIndexs())}),indexs=indexs.sort(function(a,b){return a-b}).filter(function(x){if(last!==x)return last=x,x})),indexs},stack:function(config){var i,c,j,co,v,sum,dex,cfg,datum,nameAs=createNames(config,"stack"),indexs=this.getIndexs(config);for(co=config.length,i=0,c=indexs.length;i<c;i++)for(sum=0,dex=indexs[i],j=0;j<co;j++)cfg=config[j],datum=cfg.$ops.$getNode(dex),datum&&(v=cfg.$ops.getValue(datum)||0,sum+=v,datum[nameAs[j]]=sum);return this.$setFields(config,nameAs),nameAs}}},function(module,exports,__webpack_require__){"use strict";module.exports={Hasher:__webpack_require__(22),Collection:__webpack_require__(9),HashedCollection:__webpack_require__(21),Observor:__webpack_require__(23),Composite:__webpack_require__(20),Table:__webpack_require__(63),Memory:__webpack_require__(62),Index:__webpack_require__(10),Bucketer:__webpack_require__(60),GridIndex:__webpack_require__(61)}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),bmoor=__webpack_require__(7),Composite=function(){function Composite(obj,mountPoint){_classCallCheck(this,Composite),bmoor.set(obj,mountPoint,this),this.getRoot=function(){return obj}}return _createClass(Composite,[{key:"merge",value:function(content){bmoor.object.merge(this.getRoot(),content)}}]),Composite}();module.exports=Composite},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},Collection=__webpack_require__(9),HashedCollection=function(_Collection){function HashedCollection(hasher){_classCallCheck(this,HashedCollection);var _this=_possibleConstructorReturn(this,(HashedCollection.__proto__||Object.getPrototypeOf(HashedCollection)).call(this));return _this._index={},_this._hasher=hasher,_this}return _inherits(HashedCollection,_Collection),_createClass(HashedCollection,[{key:"_canInsert",value:function(datum){return!this._index[this._hasher.hash(datum)]&&_get(HashedCollection.prototype.__proto__||Object.getPrototypeOf(HashedCollection.prototype),"_canInsert",this).call(this,datum)}},{key:"insert",value:function(datum,front){var hash=this._hasher.hash(datum),res=_get(HashedCollection.prototype.__proto__||Object.getPrototypeOf(HashedCollection.prototype),"insert",this).call(this,datum,front);return res&&(this._index[hash]=datum),res}},{key:"select",value:function(query){return this._index[this._hasher.hash(query)]}},{key:"update",value:function(content){var datum=this.select(content);datum&&datum.$observe.update(content)}}]),HashedCollection}(Collection);module.exports=HashedCollection},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function makeName(cfg){return cfg.join("-")}function buildGetters(cfg){var i,c;for(i=0,c=cfg.length;i<c;i++)cfg[i]=bmoor.makeGetter(cfg[i])}function makeFullfill(cfg,i){var next,getter;return i||(i=0),getter=cfg[i],i!==cfg.length-1?(next=makeFullfill(cfg,i+1),function(obj){return void 0!==getter(obj)&&next(obj)}):function(obj){return void 0!==getter(obj)}}function makeHasher(cfg,i){var next,getter;return i||(i=0),getter=cfg[i],i!==cfg.length-1?(next=makeHasher(cfg,i+1),function(obj){return getter(obj)+"::"+next(obj)}):getter}var bmoor=__webpack_require__(7),Hasher=function Hasher(cfg){_classCallCheck(this,Hasher);var fields=cfg.slice(0).sort();this.name=makeName(fields),buildGetters(fields),this.hash=makeHasher(fields),this.canFulfill=makeFullfill(fields)};module.exports=Hasher},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},bmoor=__webpack_require__(7),Composite=__webpack_require__(20),Observor=function(_bmoor$build){function Observor(obj){return _classCallCheck(this,Observor),_possibleConstructorReturn(this,(Observor.__proto__||Object.getPrototypeOf(Observor)).call(this,obj,"$observe"))}return _inherits(Observor,_bmoor$build),_createClass(Observor,[{key:"update",value:function(content){var root=this.getRoot();content&&(bmoor.isFunction(content)?content=content(root):this.merge(content)),this.trigger("update",content)}},{key:"trigger",value:function(){arguments[arguments.length]=this.getRoot(),arguments.length++,_get(Observor.prototype.__proto__||Object.getPrototypeOf(Observor.prototype),"trigger",this).apply(this,arguments)}}]),Observor}(bmoor.build(Composite,{mixin:bmoor.interfaces.Eventing}));Observor.enforce=function(obj){return obj.$observe?obj.$observe:new Observor(obj)},module.exports=Observor},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function merge(nVal,oVal){return void 0!==nVal?parseInt(nVal):oVal}function extend(model,settings){var padding=settings.padding,oPadding=model.padding,margin=settings.margin,oMargin=model.margin;oMargin||(model.margin=oMargin={top:0,right:0,bottom:0,left:0}),margin&&(oMargin.top=merge(margin.top,oMargin.top),oMargin.right=merge(margin.right,oMargin.right),oMargin.bottom=merge(margin.bottom,oMargin.bottom),oMargin.left=merge(margin.left,oMargin.left)),oPadding||(model.padding=oPadding={top:0,right:0,bottom:0,left:0}),padding&&(oPadding.top=merge(padding.top,oPadding.top),oPadding.right=merge(padding.right,oPadding.right),oPadding.bottom=merge(padding.bottom,oPadding.bottom),oPadding.left=merge(padding.left,oPadding.left)),model.outer||(model.outer={left:0,top:0}),model.outer.width=merge(settings.outer.width,model.outer.width)||0,model.outer.right=model.outer.width,model.outer.height=merge(settings.outer.height,model.outer.height)||0,model.outer.bottom=model.outer.height,model.top=oMargin.top,model.bottom=model.outer.height-oMargin.bottom,model.left=oMargin.left,model.right=model.outer.width-oMargin.right,model.width=model.right-model.left,model.height=model.bottom-model.top,model.center=(model.left+model.right)/2,model.middle=(model.top+model.bottom)/2,model.inner={top:model.top+oPadding.top,bottom:model.bottom-oPadding.bottom,left:model.left+oPadding.left,right:model.right-oPadding.right},model.inner.center=(model.inner.right+model.inner.left)/2,model.inner.middle=(model.inner.bottom+model.inner.top)/2,model.inner.width=model.inner.right-model.inner.left,model.inner.height=model.inner.bottom-model.inner.top,model.ratio=model.outer.width+" x "+model.outer.height}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),makeEventing=__webpack_require__(8),jQuery=__webpack_require__(113),Box=function(){function Box(settings){_classCallCheck(this,Box),extend(this,settings||{outer:{}})}return _createClass(Box,[{key:"targetSvg",value:function(el){this.$element=jQuery(el),this.resize()}},{key:"resize",value:function(){var el=this.$element;el.attr("width",null).attr("height",null),el[0].style.cssText=null,extend(this,{outer:{width:el.outerWidth(!0),height:el.outerHeight(!0)},margin:{top:el.css("margin-top"),right:el.css("margin-right"),bottom:el.css("margin-bottom"),left:el.css("margin-left")},padding:{top:el.css("padding-top"),right:el.css("padding-right"),bottom:el.css("padding-bottom"),left:el.css("padding-left")}}),el.css("margin","0").css("padding","0").attr("width",this.outer.width).attr("height",this.outer.height).css({width:this.outer.width+"px",height:this.outer.height+"px"}),this.inner.width&&this.inner.height&&this.$trigger("resize")}}]),Box}();makeEventing(Box.prototype),module.exports=Box},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function configureClassname(obj){var t,className=obj.className,classExtend=obj.classExtend||"";t=className.indexOf(" "),t!==-1&&(classExtend+=" "+className.substr(t),className=className.substring(0,t),console.log(classExtend,className)),obj.className=className,obj.classExtend=" "+classExtend}function normalizeY(views){var min,max;views.forEach(function(view){var vp=view.viewport;(void 0===min||min>vp.minValue)&&(min=vp.minValue),(void 0===max||max<vp.maxValue)&&(max=vp.maxValue)}),views.forEach(function(view){view.setViewportValues(min,max)})}function normalizeX(views){var min,max;views.forEach(function(view){var vp=view.viewport;(void 0===min||min>vp.minInterval)&&(min=vp.minInterval),(void 0===max||max<vp.maxInterval)&&(max=vp.maxInterval)}),views.forEach(function(view){view.setViewportIntervals(min,max)})}function makeArray(size){for(var i=0,arr=[];i<size;)arr.push([]),i++;return arr}function addColumn(arr){var i,c;for(i=0,c=arr.length;i<c;i++)arr[i].push(null)}function setRangeType(ranges,view){var name,keys=Object.keys(ranges);if(keys&&keys.length)for(var i in ranges)ranges[i].min&&ranges[i].min>view.min&&(view.min=ranges[i].min);return name=view.min,ranges[name]||(ranges[name]={}),name}function setIndexMap(ranges,view){var i,index,v=view.cellIndexes,r=ranges[view.min.toString()||view.min].cellIndexes,byIndex={},byUnit={};for(i=v.length-1;i>=0;i--)index=r.indexOf(v[i]),index!==-1&&(byUnit[v[i]]=index,byIndex[i]=index);view.map={byIndex:byIndex,byUnit:byUnit}}function addIndex(bounds,ranges,views,view){var rangeName,range,t={};rangeName=setRangeType(ranges,bounds),range=ranges[rangeName],t.diff=bounds.max-bounds.min,t.interval=bounds.interval,t.min=bounds.min,t.max=bounds.max,range&&range.diff?(range.diff<bounds.max-bounds.min&&(range.diff=bounds.max-bounds.min),range.interval>bounds.interval&&(range.interval=bounds.interval),range.min>bounds.min&&(range.min=bounds.min),range.max<bounds.max&&(range.max=bounds.max)):Object.assign(range,t),(!ranges.interval||ranges.interval>t.interval)&&(ranges.interval=t.interval),t.maxCell=Math.ceil(t.diff/t.interval),t.cells=t.maxCell+1,(!range.maxCell||range.maxCell<t.maxCell)&&(range.maxCell=t.maxCell,range.cells=t.cells),(!ranges.cells||ranges.cells<t.cells)&&(ranges.cells=t.cells);for(var inc=t.maxCell;inc>=0;inc--)t.cellIndexes?t.cellIndexes.unshift(t.min+t.interval*inc):t.cellIndexes=[t.min+t.interval*inc];(!range.cellIndexes||t.cellIndexes.length>range.cellIndexes.length)&&(range.cellIndexes=t.cellIndexes),views[view]=t}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),angular=__webpack_require__(1),Hitbox=__webpack_require__(44),Scheduler=__webpack_require__(45),domHelper=__webpack_require__(43),makeEventing=__webpack_require__(8),ComponentBox=__webpack_require__(24),ComponentView=__webpack_require__(28),ComponentReference=__webpack_require__(77),ids=1,schedule=new Scheduler,Chart=function(){function Chart(){_classCallCheck(this,Chart);var dis=this;this.$vguid=++ids,this.box=new ComponentBox,this.views={},this.models=[],this.waiting={},this.references={},this.components=[],this.$on("focus",function(pos){pos?dis.highlightOn(pos):dis.highlightOff()}),this.reset()}return _createClass(Chart,[{key:"reset",value:function(){this.message="Configuring",this.loading=!0,this.pristine=!1,this.settings={},this.waitingOn={}}},{key:"configure",value:function(page,settings){var views,addView=this.addView.bind(this);this.reset(),settings&&(this.settings.fitToPane=settings.fitToPane,this.settings.adjustSettings=settings.adjustSettings,this.page=page,this.zoom=page.getZoom(settings.zoom),this.normalizeY=settings.normalizeY,this.normalizeX=settings.normalizeX,this.settings.x=ComponentView.parseSettingsX(settings.x,this.settings.x),this.settings.y=ComponentView.parseSettingsY(settings.y,this.settings.y),settings.x?this.settings.x.scale=settings.x.scale:this.settings.x.scale=null,settings.y?this.settings.y.scale=settings.y.scale:this.settings.y.scale=null,views=settings.views,views?angular.isFunction(views)&&(views=views()):(views={},views[Chart.defaultView]={}),angular.forEach(views,addView),settings.onLoad&&settings.onLoad(this),this.zoom.$on("update",this.rerender.bind(this)),this.message=null),this.$trigger("configured")}},{key:"getReference",value:function(refDef){var id,ref,name;if(!refDef)return null;if(!refDef.name){if(angular.isString(refDef))return this.references[refDef];throw new Error("a reference without a name is not valid")}return name=refDef.name,id=refDef.id||name,ref=this.references[id],ref?ref:(refDef.id=id,refDef.field||(refDef.field=refDef.name),void 0===refDef.view&&(refDef.view=Chart.defaultView),refDef.className||(refDef.className="node-"+name),refDef=Object.create(refDef),configureClassname(refDef),ref=new ComponentReference(refDef),ref.setView(this.getView(refDef.view)),refDef.$ops=ref,this.references[id]=refDef,refDef)}},{key:"render",value:function(){var currentView,dis=this,activeViews=[],isReady=!1,hasViews=0;dis.$trigger("render");try{angular.forEach(this.views,function(view,name){currentView=name,view.normalize()}),angular.forEach(this.components,function(component){component.parse&&component.parse()}),angular.forEach(this.views,function(view,name){currentView=name,view.parse()}),angular.forEach(this.views,function(view,name){currentView=name,view.hasData()?(activeViews.push(view),
isReady=!0):view.isReady()&&(isReady=!0)}),this.normalizeY&&normalizeY(activeViews),this.normalizeX&&normalizeX(activeViews)}catch(ex){console.log("---parsing error---","view:"+currentView),console.log(ex),console.log(ex.stack)}hasViews=activeViews.length,this.loading=!isReady,schedule.startScript(this.$vguid),this.configureHitarea(),this.loading?(dis.$trigger("loading"),schedule.func(function(){dis.loading=!0,dis.pristine=!1})):hasViews?(schedule.func(function(){dis.message=null}),schedule.loop(this.components,function(component){component.build&&component.build()}),schedule.loop(activeViews,function(view){view.build()}),schedule.loop(this.components,function(component){component.process&&component.process()}),schedule.loop(activeViews,function(view){view.process()}),schedule.loop(this.components,function(component){component.finalize&&component.finalize()}),schedule.loop(activeViews,function(view){view.finalize(),dis.$trigger("publish:"+view.$name,view.normalizer)}),schedule.func(function(){dis.loading=!1,dis.pristine=!0})):(dis.$trigger("error"),schedule.func(function(){dis.message="No Data Available",dis.pristine=!1})),schedule.endScript(function(){dis.rendered=!0,dis.$trigger("rendered")},function(){dis.$trigger("success",activeViews[0])},function(){dis.pristine=!1,dis.message="Unable to Render",dis.$trigger("error")}),schedule.run()}},{key:"scheduleRender",value:function(cb,delay){var dis=this;this.nrTimeout||(this.nrTimeout=setTimeout(function(){dis.render(dis.waiting,cb),dis.waiting={},dis.nrTimeout=null},delay||30))}},{key:"rerender",value:function(cb){this.rendered&&(this.scheduleRender(cb),this.waiting=this.views)}},{key:"needsRender",value:function(view,cb,delay){"function"!=typeof cb&&(delay=cb),this.waiting[view.name]||(this.scheduleRender(cb,delay),this.waiting[view.name]=view)}},{key:"getView",value:function(viewName){var t=this.views[viewName];return t||(t=new ComponentView,this.views[viewName]=t),t}},{key:"addView",value:function(viewSettings,viewName){var dis=this,settings=this.settings,viewModel=this.getView(viewName);viewModel.$name=viewName,viewModel.configure(viewSettings,settings,this.box,this.page,this.zoom),viewModel.$name=viewName,viewModel.dataManager.$on("error",function(info){dis.waitingOn[info.feed.$$feedUid]=info.message,dis.error(info.message)}),viewModel.dataManager.$on("data-ready",function(feed){var keys;dis.waitingOn[feed.$$feedUid]&&(delete dis.waitingOn[feed.$$feedUid],keys=Object.keys(dis.waitingOn),keys.length?dis.error(keys[keys.length-1]):dis.error(null))}),viewModel.dataManager.$on("data",function(){0===Object.keys(dis.waitingOn).length&&dis.needsRender(viewModel,300)})}},{key:"error",value:function(_error){_error?(this.loading=!1,this.message=_error):this.message=null,this.$trigger("error")}},{key:"registerComponent",value:function(component){this.components.push(component),this.pristine&&(component.build&&component.build(),component.process&&component.process(),component.finalize&&component.finalize())}},{key:"configureHitarea",value:function(){var box=this.box;this.hitbox=new Hitbox(box.left,box.right,box.top,box.bottom,10)}},{key:"addHitbox",value:function(info,element){info.$element=element,this.hitbox.add(info)}},{key:"highlightElements",value:function(x,y){var vertical=this.hitbox.checkX(x),horizontal=this.hitbox.checkY(y),intersections=this.hitbox.checkHit(x,y);this.unlightElements(),domHelper.addClass(vertical,"highlight-vertical").bringForward(vertical),domHelper.addClass(horizontal,"highlight-horizontal"),domHelper.addClass(intersections,"highlight"),this.$trigger("publish:focus",intersections),this._activeElements={vertical:vertical,horizontal:horizontal,intersections:intersections}}},{key:"unlightElements",value:function(){var highlights=this._activeElements;highlights&&(domHelper.removeClass(highlights.vertical,"highlight-vertical"),domHelper.removeClass(highlights.horizontal,"highlight-horizontal"),domHelper.removeClass(highlights.intersections,"highlight"))}},{key:"highlightOn",value:function(pos){var sum=0,count=0,points={};angular.forEach(this.views,function(view,viewName){var point,p;view.components.length&&(point=view.getHighlight(pos),point&&(points[viewName]=point,p=point.$x,void 0!==p&&(count++,sum+=p)))}),count&&(points.$pos=sum/count,points.pos=pos,this.$trigger("focus-point",points),this.$trigger("highlight",points),this.highlightElements(pos.x,pos.y))}},{key:"highlightOff",value:function(){this.$trigger("publish:focus",null),this.$trigger("highlight",null),this.unlightElements()}},{key:"registerFeed",value:function(name,fn){this.feeds||(this.feeds={}),this.feeds[name]=fn}},{key:"getFeed",value:function(name){if(this.feeds&&this.feeds[name])return this.feeds[name]()}},{key:"export",value:function(config){var maxCell,maxRow,content,viewIndexes={},rangeIndexes={},headers=config.map(function(m){return m.title}),getReference=this.getReference.bind(this);return config.forEach(function(cfg){var ref,name,t;cfg.reference&&(ref=getReference(cfg.reference),name=ref.$ops.$view.$name,t=ref.$ops.$view.getBounds(),ref.$ops.resetField(),cfg.$ref=ref,cfg.$bounds=t,addIndex(t,rangeIndexes,viewIndexes,name))}),maxCell=rangeIndexes.maxCell,content=makeArray(rangeIndexes.cells),config.forEach(function(cfg){var i,t,row,min,max,index,view,interval,ref=cfg.$ref,pos=content[0].length;if(addColumn(content),view=ref.$ops.$view.$name,setIndexMap(rangeIndexes,viewIndexes[view]),cfg.$ref)for(min=cfg.$bounds.min,interval=cfg.$bounds.interval,max=min+Math.ceil((cfg.$bounds.max-min)/interval)*interval,i=min;i<=max;i+=interval)t=ref.$ops.$view.dataManager.data.$getNode(i),t&&(cfg.getValue?t=cfg.getValue(t):(t=cfg.field?t[cfg.field]:ref.$ops.getValue(t),cfg.format&&(t=cfg.format(t))),view?index&&"number"==typeof viewIndexes[view].map.byIndex[i.toString()||i]?row=viewIndexes[view].map.byIndex[i.toString()||i]:"number"==typeof viewIndexes[view].map.byUnit[i.toString()||i]&&(row=viewIndexes[view].map.byUnit[i.toString()||i]):row=Math.floor((i-min)/(max-min)*maxCell+.5),(!maxRow||maxRow<row)&&(maxRow=row),content[row][pos]=t);else if(cfg.value)for(i=content.length-1;i!==-1;i--)content[i][pos]=cfg.value}),maxRow+1!==content.length&&content.splice(maxRow+1),content.unshift(headers),content}}]),Chart}();makeEventing(Chart.prototype),Chart.defaultView="default",module.exports=Chart},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),uid=1,angular=__webpack_require__(1),DataFeed=__webpack_require__(30),DataLoader=__webpack_require__(31),DataManager=__webpack_require__(32),ComponentZoom=__webpack_require__(29),Page=function(){function Page(){_classCallCheck(this,Page),this.$$pageUid=uid++,this.zooms={},this.feeds={},this.charts={},this.loaders={},this.dataManagers={}}return _createClass(Page,[{key:"reset",value:function(){var zooms=this.zooms,feeds=this.feed,loaders=this.loaders,managers=this.dataManagers;Object.keys(zooms).forEach(function(zoom){zooms[zoom].reset()}),loaders&&Object.keys(loaders).forEach(function(loader){var t=loaders[loader];t&&(Object.keys(t).forEach(function(which){t[which].$destroy()}),loaders[loader]=null)}),feeds&&Object.keys(feeds).forEach(function(feed){var t=feeds[feed];t&&(feeds[feed].$destroy(),feeds[feed]=null)}),managers&&Object.keys(managers).forEach(function(manager){var t=managers[manager];t&&(managers[manager].$destroy(),managers[manager]=null)})}},{key:"configure",value:function(settings){var i,c,key,keys,info,manager;if(this.reset(),settings)if(angular.isArray(settings))for(i=0,c=settings.length;i<c;i++)this.addFeed(settings[i]);else{if(settings.managers)for(keys=Object.keys(settings.managers),i=0,c=keys.length;i<c;i++)key=keys[i],info=settings.managers[key],manager=this.getManager(key),info.fill&&manager.fillPoints(info.fill),info.calculations&&manager.setCalculations(info.calculations);if(settings.feeds)for(i=0,c=settings.feeds.length;i<c;i++)this.addFeed(settings.feeds[i])}}},{key:"addFeed",value:function(cfg){var feed,loader,manager,managerName,source=cfg.src;return cfg.manager||(cfg.manager=Page.defaultManager),managerName=cfg.manager,source._$feedUid&&this.feeds[source._$feedUid]?feed=this.feeds[source._$feedUid]:(feed=source instanceof DataFeed?source:new DataFeed(source,cfg.explode),this.feeds[feed.$$feedUid]=feed,source._$feedUid=feed.$$feedUid),manager=this.getManager(managerName),this.loaders[feed.$$feedUid]||(this.loaders[feed.$$feedUid]={}),loader=this.loaders[feed.$$feedUid][manager.$$managerUid],loader||(loader=new DataLoader(feed,manager),this.loaders[feed.$$feedUid][manager.$$managerUid]=loader),loader.addConfig(cfg),source}},{key:"getManager",value:function(managerName){var name=managerName||Page.defaultManager,manager=this.dataManagers[name];return manager||(manager=new DataManager,this.dataManagers[name]=manager),manager}},{key:"setChart",value:function(chartName,chart){this.charts[chartName]=chart,this._waiting&&this._waiting[chartName]&&this._waiting[chartName].forEach(function(cb){cb(chart)})}},{key:"getChart",value:function(chartName){return this.charts[chartName]}},{key:"requireChart",value:function(chartName,cb){var waiting,chart=this.charts[chartName];chart?cb(chart):(this._waiting||(this._waiting={}),waiting=this._waiting[chartName],waiting||(waiting=this._waiting[chartName]=[]),waiting.push(cb))}},{key:"getZoom",value:function(zoomName){var name=zoomName||Page.defaultManager,zoom=this.zooms[name];return zoom||(zoom=new ComponentZoom,this.zooms[name]=zoom),zoom}}]),Page}();Page.defaultManager="default",Page.defaultZoom="default",module.exports=Page},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),DataList=__webpack_require__(14),Pane=function(){function Pane(fitToPane,xObj,yObj){_classCallCheck(this,Pane),this.x=xObj,this.y=yObj,fitToPane===!0?this.fitToPane=!0:fitToPane&&(this.snapTo=new DataList(function(a){return a}),this.snapTo.absorb(fitToPane)),this._pane={},this._bounds={},xObj||(xObj={}),yObj||(yObj={}),this.setBounds({min:xObj.min,max:xObj.max},{min:yObj.min,max:yObj.max})}return _createClass(Pane,[{key:"setBounds",value:function(x,y){return this._bounds.x=x,this._bounds.y=y,this}},{key:"setPane",value:function(x,y){return this._pane.x=x,this._pane.y=y,this}},{key:"filter",value:function(dataManager,offset){var $min,$max,change,filtered,minInterval,maxInterval,x=this.x,data=dataManager.data;return data.length&&(dataManager.clean(),$min=void 0!==this._bounds.x.min?this._bounds.x.min:data.$minIndex,$max=void 0!==this._bounds.x.max?this._bounds.x.max:data.$maxIndex,x.$min=$min,x.$max=$max,this._pane.x&&this._pane.x.max?(change=this._pane.x,minInterval=$min+change.min*($max-$min),maxInterval=$min+change.max*($max-$min),this.snapTo&&(minInterval=this.snapTo.closest(minInterval),maxInterval=this.snapTo.closest(maxInterval))):(minInterval=$min,maxInterval=$max),offset.$left=minInterval,offset.left=(minInterval-$min)/($max-$min),offset.$right=maxInterval,offset.right=(maxInterval-$min)/($max-$min),filtered=data.$slice(minInterval,maxInterval),this.fitToPane&&data.length>1&&(data.$minIndex<minInterval&&minInterval<data.$maxIndex&&filtered.$add(minInterval,dataManager.$makePoint(minInterval),!0),data.$minIndex<maxInterval&&maxInterval<data.$maxIndex&&filtered.$add(maxInterval,dataManager.$makePoint(maxInterval))),filtered.$sort()),filtered}}]),Pane}();module.exports=Pane},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function parseSettings(settings,old){if(old||(old={}),void 0!==settings.min&&(old.min=settings.min),void 0!==settings.max&&(old.max=settings.max),settings.scale)"function"==typeof settings.scale?old.scale=settings.scale():old.scale=settings.scale;else if(!old.scale)throw new Error("missing scale for: "+JSON.stringify(settings));return settings.format?old.format=settings.format:old.scale||(old.format=function(v){return v}),settings.padding&&(old.padding=settings.padding),settings.tick&&(old.tick=settings.tick),old}function loadReference(ref,normalizer){ref.requirements?ref.requirements.forEach(function(name){normalizer.addPropertyCopy(name)}):null!==ref.requirements&&normalizer.addPropertyCopy(ref.field),ref.normalizer&&(ref.normalizer.map&&normalizer.addPropertyMap(ref.normalizer.map),ref.normalizer.finalize&&normalizer.addPropertyFinalize(ref.normalizer.finalize))}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),id=1,angular=__webpack_require__(1),ComponentPane=__webpack_require__(27),DataNormalizer=__webpack_require__(33),calculationsCompile=__webpack_require__(11).compile,View=function(){function View(){_classCallCheck(this,View),this.$vgvid=id++,this.components=[],this.references={}}return _createClass(View,[{key:"getBounds",value:function(){var i,c,t,diff,last,interval,data=this.dataManager.data;if(data.$sort(),this.x.interval)interval=this.x.interval;else for(last=data[1]._$index,interval=last-data[0]._$index,i=2,c=data.length;i<c;i++)t=data[i]._$index,diff=t-last,diff<interval&&(interval=diff),last=t;return{min:data[0]._$index,max:data[data.length-1]._$index,interval:interval}}},{key:"configure",value:function(settings,chartSettings,box,page,zoom){var normalizer,refs=this.references,refNames=Object.keys(this.references);this.x=View.parseSettingsX(chartSettings.x,this.x),View.parseSettingsX(settings.x,this.x),this.y=View.parseSettingsY(chartSettings.y,this.y),View.parseSettingsY(settings.y,this.y),this.box=box,this.dataManager=page.getManager(settings.manager),this.normalizer=normalizer=settings.normalizer||new DataNormalizer(function(index){return Math.round(index)}),settings.calculations&&(this.calculations=calculationsCompile(settings.calculations)),refNames.forEach(function(name){loadReference(refs[name],normalizer)}),settings.adjustSettings?this.adjustSettings=function(x,xDiff,y,yDiff){chartSettings.adjustSettings&&chartSettings.adjustSettings(x,xDiff,y,yDiff),settings.adjustSettings(x,xDiff,y,yDiff)}:this.adjustSettings=chartSettings.adjustSettings,this.pane=new ComponentPane(settings.fitToPane||chartSettings.fitToPane,this.x,this.y),this.x.max&&this.pane.setBounds({min:this.x.min,max:this.x.max}),this.pane.setPane({min:zoom.left,max:zoom.right}),zoom.$on("update",this.pane.setPane.bind(this.pane))}},{key:"registerComponent",value:function(component){var normalizer=this.normalizer,refs=this.references;this.components.push(component),component.references&&component.references.forEach(function(ref){refs[ref.id]||(refs[ref.id]=ref,normalizer&&loadReference(ref,normalizer))})}},{key:"isReady",value:function(){return this.dataManager&&this.dataManager.ready}},{key:"hasData",value:function(){return this.dataManager&&this.dataManager.data.length}},{key:"isLeading",value:function(){return this.viewport&&this.viewport.maxInterval>this.filtered.$maxIndex}},{key:"getLeading",value:function(){return this.normalizer[this.normalizer.length-1]}},{key:"setViewportValues",value:function(min,max){var step,box=this.box,spread=max-min;this.y.padding&&(angular.isObject(this.y.padding)?(this.y.padding.max&&(step=angular.isFunction(this.y.padding.max)?this.y.padding.max(spread,min,max):spread*this.y.padding.max,"number"==typeof step&&(max+=step)),this.y.padding.min&&(step=angular.isFunction(this.y.padding.min)?this.y.padding.min(spread,min,max):spread*this.y.padding.min,"number"==typeof step&&(min-=step))):(step=angular.isFunction(this.y.padding)?this.y.padding(spread,min,max):spread?spread*this.y.padding:min*this.y.padding,max+=step,min-=step)),void 0!==this.y.min&&(min=this.y.min),void 0!==this.y.max&&(max=this.y.max),this.viewport.minValue=min,this.viewport.maxValue=max,this.y.scale.domain([min,max]).range([box.inner.bottom,box.inner.top])}},{key:"setViewportIntervals",value:function(min,max){var box=this.box;this.viewport.minInterval=min,this.viewport.maxInterval=max,this.x.scale.domain([min,max]).range([box.inner.left,box.inner.right])}},{key:"_sample",value:function(){this.offset={},this.filtered=this.pane.filter(this.dataManager,this.offset)}},{key:"normalize",value:function(){this.dataManager&&(this._sample(),this.filtered&&(this.viewport||(this.viewport={}),this.setViewportIntervals(this.offset.$left,this.offset.$right),this.normalizer.$reindex(this.filtered,this.x.scale),this.calculations&&(this.calculations.$init(this.normalizer),this.calculations(this.normalizer)),this.components.forEach(function(component){component.$cache=null,component.$built=!1,component.$proced=!1,component.$finalized=!1})))}},{key:"parse",value:function(){var min,max;this.normalizer&&(this.components.forEach(function(component){var t;!component.$cache&&component.parse&&(component.$cache=component.parse()),t=component.$cache,t&&((t.min||0===t.min)&&(!min&&0!==min||min>t.min)&&(min=t.min),(t.max||0===t.max)&&(!max&&0!==max||max<t.max)&&(max=t.max))}),void 0!==min&&(this.setViewportValues(min,max),this.adjustSettings&&this.adjustSettings(this.x,this.viewport.maxInterval-this.viewport.minInterval,this.y,max-min)))}},{key:"build",value:function(){this.components.forEach(function(component){component.build&&!component.$built&&(component.build(),component.$built=!0)})}},{key:"process",value:function(){this.components.forEach(function(component){component.process&&!component.$proced&&(component.process(),component.$proced=!0)})}},{key:"finalize",value:function(){this.components.forEach(function(component){component.finalize&&!component.$finalized&&(component.finalize(),component.$finalized=!0)})}},{key:"getPoint",value:function(pos){var point,p=this.normalizer.$getClosest(pos,"$x"),references=this.references;return p&&(point=Object.create(p),Object.keys(references).forEach(function(key){var ref=references[key];ref.highlights&&Object.keys(ref.highlights).forEach(function(k){point[k]=ref.highlights[k](p)}),ref.$ops.getValue&&(point["_"+ref.name]=ref.$ops.getRaw(p),point[ref.name]=ref.$ops.getValue(p))})),point}},{key:"getHighlight",value:function(pos){var point;return this.normalizer?(this.components.forEach(function(comp){comp.name&&comp.drawer.getHighlight&&(point||(point={}),point[comp.name]=comp.drawer.getHighlight(pos))}),point?point:this.getPoint(pos.x)):void console.log("unconfigured",this)}}],[{key:"parseSettingsX",value:function(settings,old){return settings||(settings={}),old=parseSettings(settings,old),void 0!==settings.minPane&&(old.minPane=settings.minPane),void 0!==settings.maxPane&&(old.maxPane=settings.maxPane),void 0!==settings.interval&&(old.interval=settings.interval),old}},{key:"parseSettingsY",value:function(settings,old){return settings||(settings={}),parseSettings(settings,old)}}]),View}();module.exports=View},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),makeEventing=__webpack_require__(8),Zoom=function(){function Zoom(){_classCallCheck(this,Zoom),this.reset()}return _createClass(Zoom,[{key:"setRatio",value:function(left,right,bottom,top){left>right?(this.left=right,this.right=left):(this.left=left,this.right=right),top&&(bottom>top?(this.top=bottom,this.bottom=top):(this.top=top,this.bottom=bottom)),this.$trigger("update",{min:this.left,max:this.right},{min:this.bottom,max:this.top})}},{key:"reset",value:function(){this.left=0,this.right=1,this.bottom=0,this.top=1}}]),Zoom}();makeEventing(Zoom.prototype),module.exports=Zoom},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),uid=1,Feed=function(){function Feed(data,explode){_classCallCheck(this,Feed),this.explode=explode,this.setSource(data),this.$$feedUid=uid++}return _createClass(Feed,[{key:"setSource",value:function(src){var dis=this,data=src||[],oldPush=data.push;this.data=data,this._readPos=0,data.push=function(){oldPush.apply(this,arguments),dis.$onPush()},data.$ready=function(){dis.$trigger("ready")},data.$error=function(err){dis.error(err)},data.$reset=function(){dis.$trigger("reset"),dis._readPos=0,data.length=0},this.$onPush(),this.$destroy=function(){delete dis.data,src.push=oldPush}}},{key:"consume",value:function(arr){var i,c;for(i=0,c=arr.length;i<c;i++)this.data.push(arr[i])}},{key:"error",value:function(err){this.$trigger("error",err)}},{key:"$onPush",value:function(){var dis=this;this._$onPush||(this._$onPush=setTimeout(function(){var t=dis._readNext();for(t&&dis.$trigger("ready");t;)dis.$trigger("data",t),t=dis._readNext();dis._$onPush=null},5))}},{key:"_readAll",value:function(cb){for(var t=this._read(0);t;)cb(t),t=this._read(t.next)}},{key:"_readNext",value:function(){var t=this._read(this._readPos);return t&&(this._readPos=t.next),t}},{key:"_read",value:function(pos){var t,data=this.data,explode=this.explode;return!data.length||pos>=data.length?null:explode?(t=data[pos],{points:explode(t),next:pos+1,ref:t}):{points:data.slice(pos),next:data.length}}}]),Feed}();__webpack_require__(8)(Feed.prototype),module.exports=Feed},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _makeGetter(property,next){return next?function(ctx){try{return next(ctx[property])}catch(ex){return}}:function(ctx){try{return ctx[property]}catch(ex){return}}}function makeGetter(readFrom){var i,fn,readings=readFrom.split(".");for(i=readings.length-1;i>-1;i--)fn=_makeGetter(readings[i],fn);return fn}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),uid=1,Loader=function(){function Loader(feed,dataManager){_classCallCheck(this,Loader);var dis=this,confs=[],proc=this._process.bind(this),readyReg=feed.$on("ready",function(){dis.error&&(dis.error=!1,dataManager.$trigger("data-ready",feed))}),dataReg=feed.$on("data",function(data){var i,c,j,co;for(i=0,c=data.points.length;i<c;i++)for(j=0,co=confs.length;j<co;j++)proc(confs[j],data.points[i])}),errorState=feed.$on("error",function(error){dataManager.$trigger("error",{message:error,feed:feed}),dis.error=!0}),forceReset=feed.$on("reset",function(){dataManager.reset()});this.$$loaderUid=uid++,this.feed=feed,this.confs=confs,this.dataManager=dataManager,this.$destroy=function(){errorState(),forceReset(),readyReg(),dataReg()}}return _createClass(Loader,[{key:"addConfig",value:function(cfg){var tmp,reader,proc=this._process.bind(this);Object.keys(cfg.readings).forEach(function(writeTo){var getter,old=reader,readFrom=cfg.readings[writeTo];getter="function"==typeof readFrom?readFrom:makeGetter(readFrom),reader=old?function(interval,feedData,dm){var value=getter(feedData);void 0!==value&&dm.setValue(interval,writeTo,value),old(interval,feedData,dm)}:function(interval,feedData,dm){var value=getter(feedData);void 0!==value&&dm.setValue(interval,writeTo,value)}}),tmp={reader:reader},cfg.parseInterval?tmp.parseInterval=cfg.parseInterval:(tmp.$parseInterval=makeGetter(cfg.interval),tmp.parseInterval=function(datum){return+tmp.$parseInterval(datum)}),cfg.massage&&(tmp._parseInterval=tmp.parseInterval,tmp.massage=cfg.massage,tmp.parseInterval=function(datum){return this.massage(this._parseInterval(datum))}),this.feed._readAll(function(data){var i,c,points=data.points;for(i=0,c=points.length;i<c;i++)proc(tmp,points[i])}),this.confs.push(tmp)}},{key:"removeConf",value:function(){}},{key:"_process",value:function(cfg,datum){var interval;if(!cfg.isDefined||cfg.isDefined(datum))try{interval=cfg.parseInterval(datum),cfg.reader(interval,datum,this.dataManager)}catch(ex){console.log("failed to load",datum,interval),console.log("conf:",cfg),console.log(ex)}}}]),Loader}();module.exports=Loader},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function regulator(min,max,func,context){function callback(){var now=+new Date;now>limitTime||nextTime<now?(limitTime=null,func.apply(context,args)):setTimeout(callback,min)}var args,nextTime,limitTime;return function(){var now=+new Date;nextTime=now+min,args=arguments,limitTime||(limitTime=now+max,setTimeout(callback,min))}}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),uid=1,Linear=__webpack_require__(13),calculationsCompile=__webpack_require__(11).compile,Manager=function(){function Manager(){_classCallCheck(this,Manager);var dis=this;this.$$managerUid=uid++,this.dataReady=regulator(20,200,function(){dis.calculations&&(dis.calculations.$reset(dis.data),dis.calculations(dis.data)),dis.$trigger("data",dis.data)}),this.reset()}return _createClass(Manager,[{key:"$destroy",value:function(){this.reset()}},{key:"reset",value:function(){this.data=new Linear,this.ready=!1,this.dataReady()}},{key:"fillPoints",value:function(ctrls){var i,c,prototype=ctrls.prototype;for(this.filling=ctrls,prototype||(prototype={}),i=ctrls.start,c=ctrls.stop+ctrls.interval;i<c;i+=ctrls.interval)this.data.$add(i,Object.create(prototype))}},{key:"setCalculations",value:function(calculations){this.calculations=calculationsCompile(calculations),this.calculations.$init(calculations)}},{key:"setValue",value:function(interval,name,value){if(!this.filling||!(interval<this.filling.min||interval>this.filling.max||(interval-this.filling.min)%this.filling.interval!==0))return this.dataReady(),this.ready||!value&&0!==value||(this.ready=!0),this.data.$setValue(interval,name,value)}},{key:"getNode",value:function(interval){return this.dataReady(),this.data.$getNode(interval)}},{key:"removePlot",value:function(){}},{key:"register",value:function(cb){this.registrations.push(cb)}},{key:"clean",value:function(){this.data.$sort()}},{key:"$makePoint",value:function(pos){var r,l,d,dx,p=this.data.closestPair(pos);return p.right===p.left?p.right:(r=p.right,l=p.left,d={},dx=(pos-l._$index)/(r._$index-l._$index),Object.keys(r).forEach(function(key){var v1=l[key],v2=r[key];void 0!==v1&&null!==v1&&void 0!==v2&&null!==v2&&(d[key]=v1+(v2-v1)*dx)}),d.$faux=!0,d._$index=pos,d)}}]),Manager}();__webpack_require__(8)(Manager.prototype),module.exports=Manager},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),uid=1,Linear=__webpack_require__(13),Normalizer=function(_Linear){function Normalizer(grouper){_classCallCheck(this,Normalizer);var _this=_possibleConstructorReturn(this,(Normalizer.__proto__||Object.getPrototypeOf(Normalizer)).call(this));return _this.$modelUid=uid++,_this.$grouper=grouper,_this._finalizeProperties=function(datum){datum.$x=datum.$x/datum.$count},_this}return _inherits(Normalizer,_Linear),_createClass(Normalizer,[{key:"addPropertyFinalize",value:function(fn){var mfn=this._finalizeProperties;this._finalizeProperties=function(datum){mfn(datum),fn(datum)}}},{key:"$latestNode",value:function(field){for(var datum,i=this.length-1;i!==-1;){if(datum=this[i],datum&&this.isValid(datum[field]))return datum;i--}}},{key:"$reindex",value:function(collection,reindex){var i,c,node,index,datum,oldIndex,newIndex,grouper=this.$grouper;for(this.$reset(),collection.$sort(),i=0,c=collection.length;i<c;i++)datum=collection[i],
oldIndex=datum._$index,newIndex=reindex(datum._$index),index=grouper(newIndex,oldIndex),void 0!==index&&(node=this.$addNode(index,datum),void 0===node.$minIndex?(node.$x=newIndex,node.$minIndex=oldIndex,node.$xMin=newIndex,node.$maxIndex=oldIndex,node.$xMax=newIndex,node.$count=1):(node.$x+=newIndex,node.$maxIndex=oldIndex,node.$xMax=newIndex,node.$count++));for(i=0,c=this.length;i<c;i++)datum=this[i],datum.$avgIndex=(datum.$minIndex+datum.$maxIndex)/2,this._finalizeProperties(datum);this.$stats=Object.create(collection.$stats),this.$parent=collection}}]),Normalizer}(Linear);module.exports=Normalizer},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function applyWidth(dataSet,width){dataSet.x1=dataSet.center-width,dataSet.x2=dataSet.center+width}function calcPadding(dataSet,padding){var lOffset=dataSet.center-dataSet.x1,rOffset=dataSet.x2-dataSet.center;lOffset<rOffset?(dataSet.x2=dataSet.center+lOffset-padding,dataSet.x1+=padding):(dataSet.x1=dataSet.center-rOffset+padding,dataSet.x2-=padding)}function getMin(dataSet){var l=dataSet.center-dataSet.x1,r=dataSet.x2-dataSet.center;return l<r?l:r}function validateDataset(dataSet,settings){var width;settings.width?applyWidth(dataSet,settings.width/2):(settings.padding?calcPadding(dataSet,settings.padding):(dataSet.x1+=1,dataSet.x2-=1),width=dataSet.x2-dataSet.x1,settings.maxWidth&&width>settings.maxWidth?applyWidth(dataSet,settings.maxWidth/2):settings.minWidth&&width<settings.minWidth?applyWidth(dataSet,settings.minWidth/2):width<1?applyWidth(dataSet,.5):applyWidth(dataSet,getMin(dataSet)))}function closeDataset(dataSet,top,bottom,settings){dataSet.y1=top.y.scale("+"===dataSet.y1?top.viewport.maxValue:dataSet.y1),dataSet.y2=bottom.y.scale("-"===dataSet.y2?settings.zeroed&&bottom.viewport.minValue<0?0:bottom.viewport.minValue:dataSet.y2),validateDataset(dataSet,settings)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},DrawZone=__webpack_require__(42),DrawLinear=__webpack_require__(6),isNumeric=DrawLinear.isNumeric,Bar=function(_DrawZone){function Bar(top,bottom,settings){_classCallCheck(this,Bar);var _this=_possibleConstructorReturn(this,(Bar.__proto__||Object.getPrototypeOf(Bar)).call(this,[top,bottom],settings));return _this.top=top,bottom?_this.bottom=bottom:_this.bottom=top,_this}return _inherits(Bar,_DrawZone),_createClass(Bar,[{key:"getPoint",value:function(index){var y1,y2,t,top=this.top.$ops,node=top.$getNode(index),bottom=this.bottom.$ops;return y1=top.getValue(node),y2=this.bottom!==this.top?bottom.$getValue(index):"-",isNumeric(y1)&&isNumeric(y2)&&y1!==y2&&(t={classified:this.classifier?this.classifier.parse(node,top.getStats()):null,x:node.$x,y1:y1,y2:y2}),t}},{key:"firstSet",value:function(dataSet,box){dataSet.center=(dataSet.x1+dataSet.x2)/2,dataSet.x1=box.inner.left}},{key:"closeSet",value:function(dataSet,prev){dataSet.center=(dataSet.x1+dataSet.x2)/2,prev.x2=dataSet.x1=(prev.x2+dataSet.x1)/2,closeDataset(prev,this.top.$ops.$view,this.bottom.$ops.$view,this.settings),_get(Bar.prototype.__proto__||Object.getPrototypeOf(Bar.prototype),"closeSet",this).call(this,prev)}},{key:"lastSet",value:function(dataSet,prev,box){this.closeSet(dataSet,prev),dataSet.x2=box.inner.right,closeDataset(dataSet,this.top.$ops.$view,this.bottom.$ops.$view,this.settings),_get(Bar.prototype.__proto__||Object.getPrototypeOf(Bar.prototype),"closeSet",this).call(this,dataSet)}}]),Bar}(DrawZone);module.exports=Bar},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),DrawLinear=__webpack_require__(6),Candlestick=function(_DrawLinear){function Candlestick(ref){_classCallCheck(this,Candlestick);var _this=_possibleConstructorReturn(this,(Candlestick.__proto__||Object.getPrototypeOf(Candlestick)).call(this,[ref]));return _this.ref=ref,ref.normalizer={map:function(n,o){var field=ref.$ops.getField(),min="$min"+field,max="$max"+field,counter="$"+field,value=n[field];o[counter]?(o[counter]+=value,o.$track.push(value)):(o[counter]=value,o.$track=[value]),void 0===o[min]?(o[min]=value,o[max]=value):o[min]>value?o[min]=value:o[max]<value&&(o[max]=value)},finalize:function(d){var field="$"+ref.field;d[field]=d[field]/d.$count}},_this}return _inherits(Candlestick,_DrawLinear),_createClass(Candlestick,[{key:"makeSet",value:function(){return{}}},{key:"getPoint",value:function(index){var ops=this.ref.$ops,node=ops.$getNode(index),field=ops.getField();return{classified:this.classifier?this.classifier.parse(node,ops.getStats()):null,x:node.$x,y:node["$"+field],min:node["$min"+field],max:node["$max"+field]}}},{key:"mergePoint",value:function(parsed,set){return set.x=parsed.x,set.y=parsed.y,set.min=parsed.min,set.max=parsed.max,0}},{key:"getLimits",value:function(){var min,max;return this.dataSets.forEach(function(dataSet){dataSet.x&&(void 0===min?(min=dataSet.min,max=dataSet.max):(dataSet.min<min&&(min=dataSet.min),dataSet.max>max&&(max=dataSet.max)))}),{min:min,max:max}}},{key:"closeSet",value:function(set){var scale=this.ref.$ops.$view.y.scale;set.y=scale(set.y),set.min=scale(set.min),set.max=scale(set.max)}},{key:"makePath",value:function(dataSet){if(dataSet.x)return"M"+dataSet.x+","+dataSet.max+"L"+dataSet.x+","+dataSet.min+"M"+(dataSet.x-2)+","+dataSet.y+"L"+(dataSet.x+2)+","+dataSet.y}},{key:"makeElement",value:function(dataSet){var className="";if(dataSet.x)return this.classifier&&(className=this.classifier.getClasses(dataSet.classified)),'<path class="'+className+'" d="'+this.makePath(dataSet)+'"></path>'}},{key:"getHitbox",value:function(dataSet){return dataSet.x1=dataSet.x-2,dataSet.x2=dataSet.x+2,dataSet.y1=dataSet.max,dataSet.y2=dataSet.min,dataSet}}]),Candlestick}(DrawLinear);module.exports=Candlestick},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),DrawLinear=__webpack_require__(6),Dots=function(_DrawLinear){function Dots(ref,radius){_classCallCheck(this,Dots);var _this=_possibleConstructorReturn(this,(Dots.__proto__||Object.getPrototypeOf(Dots)).call(this,[ref]));return _this.ref=ref,_this.radius=radius,_this}return _inherits(Dots,_DrawLinear),_createClass(Dots,[{key:"makeSet",value:function(){return{}}},{key:"getPoint",value:function(index){var ops=this.ref.$ops,node=ops.$getNode(index),value=ops.getValue(node);if(value||0===value)return{classified:this.classifier?this.classifier.parse(node,ops.getStats()):null,x:node.$x,y:value}}},{key:"mergePoint",value:function(parsed,set){return set.x=parsed.x,set.y=parsed.y,0}},{key:"closeSet",value:function(set){set.y=this.ref.$ops.$view.y.scale(set.y)}},{key:"makePath",value:function(dataSet){var radius=this.radius,r2=2*radius;if(void 0!==dataSet.x)return"M"+dataSet.x+" "+dataSet.y+"m -"+radius+", 0a "+radius+","+radius+" 0 1,1 "+r2+",0a "+radius+","+radius+" 0 1,1 -"+r2+",0"}},{key:"makeElement",value:function(dataSet){var className="";if(void 0!==dataSet.x)return this.classifier&&(className=this.classifier.getClasses(dataSet.classified)),'<circle class="'+className+'" cx="'+dataSet.x+'" cy="'+dataSet.y+'" r="'+this.radius+'"/>'}},{key:"getHitbox",value:function(dataSet){var radius=this.radius;return{x1:dataSet.x-radius,x2:dataSet.x+radius,y1:dataSet.y-radius,y2:dataSet.y+radius,intersect:function(x,y){return Math.sqrt(Math.pow(dataSet.x-x,2)+Math.pow(dataSet.y-y,2))<=radius}}}}]),Dots}(DrawLinear);module.exports=Dots},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),DrawLinear=__webpack_require__(6),isNumeric=DrawLinear.isNumeric,Fill=function(_DrawLinear){function Fill(top,bottom){_classCallCheck(this,Fill);var _this=_possibleConstructorReturn(this,(Fill.__proto__||Object.getPrototypeOf(Fill)).call(this,[top,bottom]));return _this.top=top,bottom?_this.bottom=bottom:_this.bottom=top,_this}return _inherits(Fill,_DrawLinear),_createClass(Fill,[{key:"getPoint",value:function(index){var y1,y2,top=this.top.$ops,bop=this.bottom.$ops,tn=top.$getNode(index),bn=bop.$getNode(index);if(y1=top.getValue(tn),y2=2===this.references.length?bop.getValue(bn):"-",isNumeric(y1)||isNumeric(y2))return{x:tn?tn.$x:bn.$x,y1:y1,y2:y2}}},{key:"mergePoint",value:function(parsed,set){var x=parsed.x,y1=parsed.y1,y2=parsed.y2;return null!==y1&&null!==y2?(set.push({x:x,y1:y1,y2:y2}),-1):0}},{key:"makePath",value:function(dataSet){var i,c,y1,y2,point,top=this.top.$ops.$view,bottom=this.bottom.$ops.$view,line1=[],line2=[];if(dataSet.length){for(c=0,i=dataSet.length-1;i>0&&!c;i--)point=dataSet[i],y1||(y1=point.y1||0===point.y1),y2||(y2=point.y2||0===point.y2),y1&&y2&&(c=i+1);for(i=0;i<c;i++)point=dataSet[i],(point.y1||0===point.y1)&&line1.push(point.x+","+top.y.scale(point.y1)),(point.y2||0===point.y2)&&(y2="-"===point.y2?bottom.viewport.minValue>0?bottom.viewport.minValue:0:point.y2,line2.unshift(point.x+","+bottom.y.scale(y2)));return"M"+line1.join("L")+"L"+line2.join("L")+"Z"}}},{key:"makeElement",value:function(dataSet){var className="";if(dataSet.length)return this.classifier&&(className=this.classifier.getClasses(dataSet.classified)),'<path class="'+className+'" d="'+this.makePath(dataSet)+'"></path>'}}]),Fill}(DrawLinear);module.exports=Fill},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function populateBuckets(bucketer,references){function simplify(node){bucketer.push(ref.simplify(ref.$ops.getValue(node),node.$avgIndex,node))}function passThrough(node){bucketer.push(node)}var i,c,fn,ref;for(i=0,c=references.length;i<c;i++)ref=references[i],fn=ref.simplify?simplify:passThrough,ref.$ops.eachNode(fn)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Classifier=__webpack_require__(17),DataBucketer=__webpack_require__(12),Heatmap=function(){function Heatmap(refs,area,templates,indexs,buckets){_classCallCheck(this,Heatmap);var t,bucketer;this.area=area,this.templates=templates,this.references=refs,buckets||(t=Object.keys(indexs),buckets={x:t[0],y:t[1]}),1===refs.length&&(refs[0].classify?this.classifier=new Classifier(refs[0].classify):refs[0].classifier&&(this.classifier=refs[0].classifier)),this.bucketer=bucketer=new DataBucketer(indexs[buckets.x],function(){return new DataBucketer(indexs[buckets.y])})}return _createClass(Heatmap,[{key:"getReferences",value:function(){return this.references}},{key:"parse",value:function(){var xPos,yPos,xSize,ySize,xCount,yCount,xHash,yHash,xLabels,yLabels,sets=[],grid=[],area=this.area,bucketer=this.bucketer,references=this.references,classifier=this.classifier;bucketer.$reset(),populateBuckets(bucketer,references),this.labels||(this.labels={}),this.labels.x?xLabels=this.labels.x:(xHash={},xLabels=[],bucketer.$getIndexs().forEach(function(label){xHash[label]||(xHash[label]=!0,xLabels.push({text:label,value:label}))})),this.labels.y?yLabels=this.labels.y:(yHash={},yLabels=[],bucketer.forEach(function(bucket){bucket.$getIndexs().forEach(function(label){yHash[label]||(yHash[label]=!0,yLabels.push({text:label,value:label}))})})),xCount=xLabels.length,yCount=yLabels.length,xSize=(area.x2-area.x1)/xCount,ySize=(area.y2-area.y1)/yCount,xPos=area.x1,xLabels.forEach(function(label){var xNext=xPos+xSize;sets.push({type:"x",x1:xPos,x2:xNext,y1:area.labelTop,y2:area.y1,width:xSize,height:area.labelHeight,text:label.text}),xPos=xNext}),yPos=area.y1,yLabels.forEach(function(label){var yNext=yPos+ySize;sets.push({type:"y",x1:area.labelLeft,x2:area.x1,y1:yPos,y2:yNext,width:area.labelWidth,height:ySize,text:label.text}),yPos=yNext}),xPos=area.x1,xLabels.forEach(function(xl){var x=xl.value,col=[],xNext=xPos+xSize;grid.push(col),yPos=area.y1,yLabels.forEach(function(yl){var t,y=yl.value,yNext=yPos+ySize,data=bucketer.$getBucket(x).$getBucket(y);col.push(data),t={type:"cell",x1:xPos,x2:xNext,y1:yPos,y2:yNext,data:data,width:xSize,height:ySize},classifier&&(t.classified=classifier.parse(data,references[0].$ops.getStats())),sets.push(t),yPos=yNext}),xPos=xNext}),sets.$grid=grid,grid.$y=yLabels,grid.$x=xLabels,this.dataSets=sets}},{key:"getLimits",value:function(){return null}},{key:"closeSet",value:function(){}},{key:"makePath",value:function(dataSet){if(dataSet)return"M"+(dataSet.x1+","+dataSet.y1)+"L"+(dataSet.x2+","+dataSet.y1)+"L"+(dataSet.x2+","+dataSet.y2)+"L"+(dataSet.x1+","+dataSet.y2)+"Z"}},{key:"makeElement",value:function(dataSet){var heading,template,className="";if(dataSet)return this.classifier&&(className=this.classifier.getClasses(dataSet.classified)),"cell"===dataSet.type?(template=this.templates.cell,className+=" bucket"):(heading=!0,template="x"===dataSet.type?this.templates.xHeading:this.templates.yHeading,className+=" heading axis-"+dataSet.type),'<g class="'+className+'" transform="translate('+dataSet.x1+","+dataSet.y1+')"><rect x="0" y="0" width="'+dataSet.width+'" height="'+dataSet.height+(dataSet.$color?'" style="fill:'+dataSet.$color:"")+'"/><g transform="translate('+dataSet.width/2+","+dataSet.height/2+')">'+template+"</g></g>"}},{key:"getHitbox",value:function(dataSet){return dataSet}},{key:"getJson",value:function(){return this.dataSets.$grid}}]),Heatmap}();module.exports=Heatmap},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},DrawBox=__webpack_require__(15),Icon=function(_DrawBox){function Icon(ref,box,template,settings){_classCallCheck(this,Icon);var _this=_possibleConstructorReturn(this,(Icon.__proto__||Object.getPrototypeOf(Icon)).call(this,ref,settings));return _this.box=box,_this.template=template,_this}return _inherits(Icon,_DrawBox),_createClass(Icon,[{key:"makeElement",value:function(boxInfo){var x,y;if(boxInfo)return x=(boxInfo.x1+boxInfo.x2-this.box.width)/2-(this.settings.left||0),y=(boxInfo.y1+boxInfo.y2-this.box.height)/2-(this.settings.top||0),'<g transform="translate('+x+","+y+')"'+(this.settings.className?' class="'+this.settings.className+'"':"")+">"+this.template+"</g>"}},{key:"mergePoint",value:function(parsed,set){var t=_get(Icon.prototype.__proto__||Object.getPrototypeOf(Icon.prototype),"mergePoint",this).call(this,parsed,set);return this.settings.separate?0:t}}]),Icon}(DrawBox);module.exports=Icon},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function getCoords(centerX,centerY,radius,angleInDegrees){var angleInRadians=(angleInDegrees-90)*Math.PI/180;return{x:centerX+radius*Math.cos(angleInRadians),y:centerY+radius*Math.sin(angleInRadians)}}function makeSliver(x,y,radius,start,stop,bigArc){var arcSweep=bigArc?"1":"0";return"M"+x+","+y+"L"+start.x+","+start.y+"A"+radius+","+radius+" 0 "+arcSweep+" 0 "+stop.x+","+stop.y+"Z"}function stackFunc(bucket,old,fn){function test(node,value){var v=fn(node,value);if(void 0!==v)return{bucket:bucket,value:v}}return old?function(node,value){return test(node,value)||old(node,value)}:test}function getMax(eins,zwei,drei){return eins>zwei&&eins>drei?eins:zwei>drei?zwei:drei}function getMin(eins,zwei,drei){return eins<zwei&&eins<drei?eins:zwei<drei?zwei:drei}function calcBox(x,y,radius,start,startAngle,stop,stopAngle){var minX=x,maxX=x,minY=y,maxY=y;return 0!==startAngle&&360!==stopAngle||(minY=y-radius),startAngle<=90&&stopAngle>=90&&(maxX=x+radius),startAngle<180&&stopAngle>=180&&(maxY=y+radius),startAngle<=270&&stopAngle>=270&&(minX=x-radius),{minX:getMin(minX,start.x,stop.x),maxX:getMax(maxX,start.x,stop.x),minY:getMin(minY,start.y,stop.y),maxY:getMax(maxY,start.y,stop.y)}}function populateBuckets(bucketer,references){var buckets={};return references.forEach(function(ref){ref.$ops.eachNode(function(node){var parsed=bucketer(ref.$ops.getValue(node),node);parsed&&(buckets[parsed.bucket]?buckets[parsed.bucket]+=parsed.value:buckets[parsed.bucket]=parsed.value)})}),buckets}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Pie=function(){function Pie(references,buckets,area,options){_classCallCheck(this,Pie);var fn;this.area=area,this.options=options||{},this.buckets=Object.keys(buckets),this.references=references,this.buckets.forEach(function(bucket){fn=stackFunc(bucket,fn,buckets[bucket])}),this.bucketer=fn}return _createClass(Pie,[{key:"getReferences",value:function(){return this.references}},{key:"parse",value:function(){var sets=[],total=0,buckets=populateBuckets(this.bucketer,this.references);Object.keys(buckets).forEach(function(bucket){var start=total,value=buckets[bucket];total+=value,sets.push({value:value,bucket:bucket,start:start,stop:total})}),sets.forEach(function(set){set.total=total}),this.dataSets=sets}},{key:"makePath",value:function(set){var x=this.area.x||0,y=this.area.y||0,radius=this.area.radius||1,startAngle=set.start/set.total*360,stopAngle=set.stop/set.total*360,start=getCoords(x,y,radius,stopAngle),stop=getCoords(x,y,radius,startAngle),bigArc=stopAngle-startAngle>180;if(set.value)return set.$start=start,set.$startAngle=startAngle,set.$stop=stop,set.$stopAngle=stopAngle,0===startAngle&&360===stopAngle?makeSliver(x,y,radius,getCoords(x,y,radius,0),getCoords(x,y,radius,180),bigArc)+makeSliver(x,y,radius,getCoords(x,y,radius,180),getCoords(x,y,radius,360),bigArc):makeSliver(x,y,radius,start,stop,bigArc)}},{key:"getLimits",value:function(){return null}},{key:"closeSet",value:function(){}},{key:"makeElement",value:function(set){var options=this.options,className=set.bucket;if(options[set.bucket]&&options[set.bucket].className&&(className+=" "+options[set.bucket].className),set.value)return'<path class="slice '+className+'" d="'+this.makePath(set)+'"/>'}},{key:"publish",value:function(){var slices={},options=this.options;return this.dataSets.forEach(function(d){slices[d.bucket]=d,d.$=options[d.bucket]}),slices}},{key:"getHitbox",value:function(set){var centerX=this.area.x||0,centerY=this.area.y||0,startAngle=set.$startAngle,stopAngle=set.$stopAngle,radius=this.area.radius||1,box=calcBox(centerX,centerY,radius,set.$start,startAngle,set.$stop,stopAngle);return set.x1=box.minX,set.x2=box.maxX,set.y1=box.minY,set.y2=box.maxY,set.intersect=function(x,y){var angle,dx=x-centerX,dy=y-centerY;return Math.sqrt(Math.pow(dx,2)+Math.pow(dy,2))<=radius&&(angle=180*Math.atan(dy/dx)/Math.PI,angle=x===centerX?y<centerY?0:180:y===centerY?x<centerX?270:90:x>centerX?y<centerY?90+angle:90+angle:270+angle,angle>=startAngle&&angle<=stopAngle)},set}}]),Pie}();module.exports=Pie},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function getCoords(centerX,centerY,radius,angleInDegrees){var angleInRadians=(angleInDegrees-90)*Math.PI/180;return{x:centerX+radius*Math.cos(angleInRadians),y:centerY+radius*Math.sin(angleInRadians)}}function buildGrid(labels,area,step){var i=0,res="",tick=3,padding=4,keys=Object.keys(labels),inner=area.inner,length=(inner.width<inner.height?inner.width:inner.height)/2+tick,center=inner.center,middle=inner.middle;return keys.forEach(function(key){if(i%step===0){var info=labels[key],angle=info.angle,text=getCoords(center,middle,length+padding,angle),coord=getCoords(center,middle,length,angle),anchor=angle>25&&angle<155?"start":angle>205&&angle<335?"end":"middle",baseline=angle>125&&angle<245?"hanging":angle>45&&angle<315?"middle":"";res+='<g class="tick" transform="translate('+text.x+","+text.y+')"><text dominant-baseline="'+baseline+'" text-anchor="'+anchor+'">'+info.text+'</text></g><line class="axis" x1="'+center+'" x2="'+coord.x+'" y1="'+middle+'" y2="'+coord.y+'"></line>'}i++}),res}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},DrawLine=__webpack_require__(16),Classifier=__webpack_require__(17),DataBucketer=__webpack_require__(12),Spiral=function(_DrawLine){function Spiral(ref,area,index,labels,settings){_classCallCheck(this,Spiral);var _this=_possibleConstructorReturn(this,(Spiral.__proto__||Object.getPrototypeOf(Spiral)).call(this,ref));return _this.area=area,_this.references=[ref],_this.settings=settings||{},_this.labels=labels,ref.classify?_this.classifier=new Classifier(ref.classify):ref.classifier&&(_this.classifier=ref.classifier),_this.bucketer=new DataBucketer(index),_this}return _inherits(Spiral,_DrawLine),_createClass(Spiral,[{key:"parse",value:function(keys){var min,max,diff,count,degrees,deg=0,ref=this.references[0],area=this.area,inner=area.inner,length=(inner.width<inner.height?inner.width:inner.height)/2,labels=this.labels,buckets=this.buckets=[],mapping={},bucketer=this.bucketer;bucketer.$reset(),keys.forEach(function(key){var op=ref.$ops,n=op.$getNode(key),v=op.getValue(n);void 0===min?min=max=v:v<min?min=v:v>max&&(max=v),n.$v=v,bucketer.push(n)}),labels||(labels={},bucketer.$getIndexs().forEach(function(label){labels[label]=label})),count=Object.keys(labels).length,degrees=360/count,Object.keys(labels).forEach(function(label){mapping[label]={angle:deg,text:labels[label]},buckets.push(label),deg+=degrees}),this.axis=buildGrid(mapping,area,this.settings.step||1),diff=length/(max-min),this.mapping=mapping,this.calcRadius=function(v){return(v-min)*diff},this.calcPoint=function(v,d){return getCoords(inner.center,inner.middle,this.calcRadius(v),d)},_get(Spiral.prototype.__proto__||Object.getPrototypeOf(Spiral.prototype),"parse",this).call(this,keys)}},{key:"makeAxis",value:function(){return this.axis}},{key:"getPoint",value:function(index){var p,node=this.ref.$ops.$getNode(index),v=node.$v;return(v||0===v)&&(p=this.calcPoint(v,this.mapping[node.$bucket].angle),p.classified=this.classifier?this.classifier.parse(node,this.ref.$ops.getStats()):null),p}},{key:"closeSet",value:function(set){return set}},{key:"getHighlight",value:function(pos){var angle,bucket,x=pos.x-this.area.inner.center,y=this.area.inner.middle-pos.y,deg=Math.atan(x/y)/Math.PI*180,buckets=this.buckets;return angle=x>=0&&y>=0?deg:x<=0&&y<=0?deg+180:x<=0?deg+360:deg+180,bucket=this.bucketer.$getBucket(Math.round(angle/360*buckets.length)%buckets.length)}}]),Spiral}(DrawLine);module.exports=Spiral},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,
enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function calcBar(x1,x2,y1,y2,box){var t;return x1>x2&&(t=x1,x1=x2,x2=t),"+"!==y1&&"-"!==y2&&y1<y2&&(t=y1,y1=y2,y2=t),void 0===box.x1?(box.x1=x1,box.x2=x2,box.y1=y1,box.y2=y2):(box.x1>x1&&(box.x1=x1),x2>box.x2&&(box.x2=x2),"+"!==box.y1&&("+"===y1||box.y1<y1)&&(box.y1=y1),"-"!==box.y2&&("-"===y2||box.y2>y2)&&(box.y2=y2)),box}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),DrawLinear=__webpack_require__(6),DrawZone=function(_DrawLinear){function DrawZone(refs,settings){_classCallCheck(this,DrawZone);var _this=_possibleConstructorReturn(this,(DrawZone.__proto__||Object.getPrototypeOf(DrawZone)).call(this,refs));return _this.settings=settings||{},_this}return _inherits(DrawZone,_DrawLinear),_createClass(DrawZone,[{key:"makeSet",value:function(){return{}}},{key:"isValidSet",value:function(box){return void 0!==box.x1}},{key:"mergePoint",value:function(parsed,dataSet){var x=parsed.x,y1=parsed.y1,y2=parsed.y2;return null!==y1&&null!==y2&&(void 0===y1&&(y1=dataSet.y1),void 0===y2&&(y2=dataSet.y2),calcBar(x,x,y1,y2,dataSet)),0}},{key:"closeSet",value:function(dataSet){var flip;dataSet.y1>dataSet.y2&&(flip=dataSet.y1,dataSet.y1=dataSet.y2,dataSet.y2=flip)}},{key:"makePath",value:function(dataSet){if(dataSet)return"M"+(dataSet.x1+","+dataSet.y1)+"L"+(dataSet.x2+","+dataSet.y1)+"L"+(dataSet.x2+","+dataSet.y2)+"L"+(dataSet.x1+","+dataSet.y2)+"Z"}},{key:"makeElement",value:function(dataSet){var className="";if(dataSet)return this.classifier&&dataSet.classified&&(className=this.classifier.getClasses(dataSet.classified)),'<rect class="'+className+'" x="'+dataSet.x1+'" y="'+dataSet.y1+'" width="'+(dataSet.x2-dataSet.x1)+'" height="'+(dataSet.y2-dataSet.y1)+'"/>'}},{key:"getHitbox",value:function(dataSet){return dataSet}}]),DrawZone}(DrawLinear);module.exports=DrawZone},function(module,exports){"use strict";function getReg(className){var reg=regex[className];return reg||(reg=new RegExp("(?:^|\\s)"+className+"(?!\\S)"),regex[className]=reg),reg}var regex={};module.exports={bringForward:function(elements){var i,c,el;for(i=0,c=elements.length;i<c;i++)el=elements[i].$element,el.parentNode&&el.parentNode.appendChild(el);return this},addClass:function(elements,className){var i,c,el,baseClass,reg=getReg(className);for(i=0,c=elements.length;i<c;i++)el=elements[i].$element,baseClass=el.getAttribute("class")||"",baseClass.match(reg)||el.setAttribute("class",baseClass+" "+className);return this},removeClass:function(elements,className){var i,c,el,reg=getReg(className);for(i=0,c=elements.length;i<c;i++)el=elements[i].$element,el.setAttribute("class",(el.getAttribute("class")||"").replace(reg,""));return this}}},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function search(matches,x,y,getCheck){var i,c,info,hits=[];for(i=0,c=matches.length;i<c;i++)info=matches[i],getCheck(info)(x,y)&&hits.push(info);return hits}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),uid=0,tests={intersect:function(x,y){return this.x1<=x&&this.x2>=x&&this.y1<=y&&this.y2>=y},intersectX:function(x){return this.x1<=x&&this.x2>=x},intersectY:function(junk,y){return this.y1<=y&&this.y2>=y}},Hitbox=function(){function Hitbox(xMin,xMax,yMin,yMax,count){_classCallCheck(this,Hitbox);var i,c,j,co,child,base=[],xDex=[],yDex=[];for(this.xMin=xMin,this.xDiff=xMax-xMin,this.yMin=yMin,this.yDiff=yMax-yMin,this.count=count,i=0,c=count;i<c;i++)for(child=[],base.push(child),xDex.push([]),yDex.push([]),j=0,co=count;j<co;j++)child.push([]);this._index=base,this._xDex=xDex,this._yDex=yDex}return _createClass(Hitbox,[{key:"$hashX",value:function(x){var t=parseInt((x-this.xMin)/this.xDiff*this.count,10);return t<0?t=0:t>=this.count&&(t=this.count-1),t}},{key:"$hashY",value:function(y){var t=parseInt((y-this.yMin)/this.yDiff*this.count,10);return t<0?t=0:t>=this.count&&(t=this.count-1),t}},{key:"add",value:function(info){var i,c,j,co,t,child,base=this._index;for(info.x1>info.x2&&(t=info.x1,info.x1=info.x2,info.x2=t),info.y1>info.y2&&(t=info.y1,info.y1=info.y2,info.y2=t),info.$uid=uid++,i=this.$hashX(info.x1),c=this.$hashX(info.x2)+1,t=this.$hashY(info.y1),co=this.$hashY(info.y2)+1,j=t;j<co;j++)this._yDex[j].push(info);for(;i<c;i++)for(child=base[i],this._xDex[i].push(info),j=t;j<co;j++)child[j].push(info)}},{key:"checkHit",value:function(x,y){return search(this._index[this.$hashX(x)][this.$hashY(y)],x,y,function(info){return(info.intersect?info.intersect:tests.intersect).bind(info)})}},{key:"checkX",value:function(x){return search(this._xDex[this.$hashX(x)],x,null,function(info){return(info.intersectX?info.intersectX:tests.intersectX).bind(info)})}},{key:"checkY",value:function(y){return search(this._yDex[this.$hashY(y)],null,y,function(info){return(info.intersectY?info.intersectY:tests.intersectY).bind(info)})}}]),Hitbox}();module.exports=Hitbox},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function __now(){return+new Date}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Scheduler=function(){function Scheduler(){_classCallCheck(this,Scheduler),this.$scripts={},this.$master=this.schedule=[]}return _createClass(Scheduler,[{key:"startScript",value:function(name){name?this.$scripts[name]?(this.schedule=this.$scripts[name],this.schedule.length=0):this.schedule=this.$scripts[name]=[]:this.schedule=[]}},{key:"endScript",value:function(always,success,failure){this.schedule.push({$end:!0,always:always,success:success,failure:failure}),this.$master.push(this.schedule),this.schedule=this.$master}},{key:"loop",value:function(arr,func,ctx){this.schedule.push({start:0,stop:arr.length,data:arr,op:func,ctx:ctx})}},{key:"func",value:function(_func,ctx){this.schedule.push({op:_func,ctx:ctx})}},{key:"run",value:function(){var dis=this;this.$lock||(this.$lock=!0,setTimeout(function(){dis.$eval()},5))}},{key:"$eval",value:function(){function rerun(){dis.$eval()}var i,c,t,dis=this,valid=!0,now=__now(),goodTill=now+500;try{for(;(t=this.schedule.shift())&&valid;){if(t.length)for(;t.length;)this.schedule.unshift(t.pop());else if("start"in t)for(i=t.start,c=t.stop;i<c;i++)t.op.call(t.ctx,t.data[i],i);else t.$end?(t.success&&t.success(),t.always&&t.always()):t.op.call(t.ctx);__now()>goodTill&&(valid=!1,setTimeout(rerun,5))}}catch(ex){for(console.log(ex),valid=!0;(t=this.schedule.shift())&&valid;)t.$end&&(t.failure&&t.failure(),t.always&&t.always(),rerun())}this.schedule.length||(this.$lock=!1)}}]),Scheduler}();module.exports=Scheduler},function(module,exports,__webpack_require__){"use strict";function formatArray(arr){return arr.map(function(row){return'"'+row.join('","')+'"'}).join("\n")}function formatCanvas(canvas){for(var binStr=atob(canvas.toDataURL("image/png").split(",")[1]),len=binStr.length,arr=new Uint8Array(len),i=0;i<len;i++)arr[i]=binStr.charCodeAt(i);return arr}var svgColorize=__webpack_require__(47);module.exports=function(cfg){var res,type,content=cfg.data,charset=cfg.charset||"utf-8";return content instanceof Node?("svg"===content.tagName?(svgColorize(content),type="image/svg+xml"):"canvas"===content.tagName?(res=formatCanvas(content),type="image/png"):type="text/html",res||(res=(new XMLSerializer).serializeToString(content))):content.length&&content[0]&&content[content.length-1]?(res=formatArray(content),type="text/csv"):(res=JSON.stringify(content),type="text/json"),new Blob([res],{type:type+";charset="+charset+";"})}},function(module,exports){"use strict";function convert(els,styles){Array.prototype.forEach.call(els,function(el){var fullStyle="";styles.forEach(function(styleName){var style=document.defaultView.getComputedStyle(el,"").getPropertyValue(styleName);""!==style&&(fullStyle+=styleName+":"+style+";")}),el.setAttribute("style",fullStyle)})}function colorize(el){var watches=colorize.settings;Object.keys(watches).forEach(function(tagName){var els=el.getElementsByTagName(tagName);convert(els,watches[tagName])})}var tagWatch={path:["fill","stroke","stroke-width","stroke-dasharray"],rect:["fill","stroke","opacity"],line:["stroke","stroke-width","stroke-dasharray"],text:["text-anchor","font-size","color","font-family"],circle:["fill","stroke"]};colorize.settings=tagWatch,module.exports=colorize},function(module,exports,__webpack_require__){"use strict";function indexOf(arr,searchElement,fromIndex){if(arr.indexOf)return arr.indexOf(searchElement,fromIndex);var length=parseInt(arr.length,0);for(fromIndex=+fromIndex||0,Math.abs(fromIndex)===1/0&&(fromIndex=0),fromIndex<0&&(fromIndex+=length,fromIndex<0&&(fromIndex=0));fromIndex<length;fromIndex++)if(arr[fromIndex]===searchElement)return fromIndex;return-1}function remove(arr,searchElement,fromIndex){var pos=indexOf(arr,searchElement,fromIndex);if(pos>-1)return arr.splice(pos,1)[0]}function removeAll(arr,searchElement,fromIndex){var r,pos=indexOf(arr,searchElement,fromIndex);return pos>-1?(r=removeAll(arr,searchElement,pos+1),r.unshift(arr.splice(pos,1)[0]),r):[]}function bisect(arr,value,func,preSorted){var idx,val,bottom=0,top=arr.length-1;if(preSorted||arr.sort(function(a,b){return func(a)-func(b)}),func(arr[bottom])>=value)return{left:bottom,right:bottom};if(func(arr[top])<=value)return{left:top,right:top};if(arr.length){for(;top-bottom>1;)idx=Math.floor((top+bottom)/2),val=func(arr[idx]),val===value?(top=idx,bottom=idx):val>value?top=idx:bottom=idx;return top!==idx&&func(arr[top])===value?{left:top,right:top}:bottom!==idx&&func(arr[bottom])===value?{left:bottom,right:bottom}:{left:bottom,right:top}}}function filter(arr,func,thisArg){if(arr.filter)return arr.filter(func,thisArg);var i,val,t=Object(this),c=parseInt(t.length,10),res=[];if(!bmoor.isFunction(func))throw new Error("func needs to be a function");for(i=0;i<c;i++)i in t&&(val=t[i],func.call(thisArg,val,i,t)&&res.push(val));return res}function compare(arr1,arr2,func){var cmp,left=[],right=[],leftI=[],rightI=[];for(arr1=arr1.slice(0),arr2=arr2.slice(0),arr1.sort(func),arr2.sort(func);arr1.length>0&&arr2.length>0;)cmp=func(arr1[0],arr2[0]),cmp<0?left.push(arr1.shift()):cmp>0?right.push(arr2.shift()):(leftI.push(arr1.shift()),rightI.push(arr2.shift()));for(;arr1.length;)left.push(arr1.shift());for(;arr2.length;)right.push(arr2.shift());return{left:left,intersection:{left:leftI,right:rightI},right:right}}var bmoor=__webpack_require__(4);module.exports={indexOf:indexOf,remove:remove,removeAll:removeAll,bisect:bisect,filter:filter,compare:compare}},[114,4,51,52,50],[115,4],[116,4],[117,4],function(module,exports){"use strict";function nextUid(){return++_id}function setUid(obj){var t=obj.$$bmoorUid;return t||(t=obj.$$bmoorUid=nextUid()),t}function getUid(obj){return obj.$$bmoorUid||setUid(obj),obj.$$bmoorUid}var _id=0;module.exports={setUid:setUid,getUid:getUid}},function(module,exports,__webpack_require__){"use strict";function getReg(className){var reg=regex[className];return reg||(reg=new RegExp("(?:^|\\s)"+className+"(?!\\S)"),regex[className]=reg),reg}function massage(elements){return bmoor.isArrayLike(elements)||(elements=[elements]),elements}function addClass(elements,className){var i,c,node,baseClass,reg=getReg(className);for(elements=massage(elements),i=0,c=elements.length;i<c;i++)node=elements[i],baseClass=node.getAttribute("class")||"",baseClass.match(reg)||node.setAttribute("class",baseClass+" "+className)}function removeClass(elements,className){var i,c,node,reg=getReg(className);for(elements=massage(elements),i=0,c=elements.length;i<c;i++)node=elements[i],node.setAttribute("class",(node.getAttribute("class")||"").replace(reg,""))}function triggerEvent(elements,eventName,eventData){var i,c,doc,node,event,EventClass;for(elements=massage(elements),i=0,c=elements.length;i<c;i++){if(node=elements[i],node.ownerDocument)doc=node.ownerDocument;else if(9===node.nodeType)doc=node;else{if("undefined"==typeof document)throw new Error("Invalid node passed to fireEvent: "+node.id);doc=document}if(node.dispatchEvent){try{switch(eventName){case"click":case"mousedown":case"mouseup":EventClass=MouseEvent;break;case"focus":case"blur":EventClass=FocusEvent;break;case"change":case"select":EventClass=UIEvent;break;default:EventClass=CustomEvent}eventData?(void 0===eventData.bubbles&&(eventData.bubbles=!0),void 0===eventData.cancelable&&(eventData.cancelable=!0)):eventData={view:window,bubbles:!0,cancelable:!0},event=new EventClass(eventName,eventData)}catch(ex){switch(eventName){case"click":case"mousedown":case"mouseup":EventClass="MouseEvents";break;case"focus":case"change":case"blur":case"select":EventClass="HTMLEvents";break;default:EventClass="CustomEvent"}event=doc.createEvent(EventClass),event.initEvent(eventName,!0,!0)}event.$synthetic=!0,node.dispatchEvent(event)}else node.fireEvent&&(event=doc.createEventObject(),event.$synthetic=!0,node.fireEvent("on"+eventName,event))}}function bringForward(elements){var i,c,node;for(elements=massage(elements),i=0,c=elements.length;i<c;i++)node=elements[i],node.parentNode&&node.parentNode.appendChild(node)}var bmoor=__webpack_require__(4),regex={};module.exports={addClass:addClass,removeClass:removeClass,triggerEvent:triggerEvent,bringForward:bringForward}},function(module,exports,__webpack_require__){"use strict";module.exports={Eventing:__webpack_require__(56)}},function(module,exports){"use strict";module.exports={on:function(event,cb){var dis=this;return this._$listeners||(this._$listeners={}),this._$listeners[event]||(this._$listeners[event]=[]),this._$listeners[event].push(cb),function(){dis._$listeners[event].splice(dis._$listeners[event].indexOf(cb),1)}},subscribe:function(subscriptions){var dis=this,kills=[],events=Object.keys(subscriptions);return events.forEach(function(event){var action=subscriptions[event];kills.push(dis.on(event,action))}),function(){kills.forEach(function(kill){kill()})}},trigger:function(event){var listeners,i,c,args=Array.prototype.slice.call(arguments,1);if(this._$listeners&&(listeners=this._$listeners[event]))for(listeners=listeners.slice(0),i=0,c=listeners.length;i<c;i++)listeners[i].apply(this,args)}}},function(module,exports,__webpack_require__){"use strict";function values(obj){var res=[];return bmoor.naked(obj,function(v){res.push(v)}),res}function keys(obj){var res=[];return Object.keys?Object.keys(obj):(bmoor.naked(obj,function(v,key){res.push(key)}),res)}function explode(target,mappings){return bmoor.iterate(mappings,function(val,mapping){bmoor.set(target,mapping,val)}),target}function mask(obj){if(Object.create){var T=function(){};return T.prototype=obj,new T}return Object.create(obj)}function extend(to){return bmoor.loop(arguments,function(cpy){cpy!==to&&(to&&to.extend?to.extend(cpy):bmoor.iterate(cpy,function(value,key){to[key]=value}))}),to}function empty(to){bmoor.iterate(to,function(v,k){delete to[k]})}function copy(to){return empty(to),extend.apply(void 0,arguments)}function merge(to){var from,i,c,m=function(val,key){to[key]=merge(to[key],val)};for(i=1,c=arguments.length;i<c;i++)from=arguments[i],to!==from&&from&&(to&&to.merge?to.merge(from):bmoor.isObject(to)?bmoor.safe(from,m):to=bmoor.isObject(from)?merge({},from):from);return to}function equals(obj1,obj2){var c,i,keyCheck,t1="undefined"==typeof obj1?"undefined":_typeof(obj1),t2="undefined"==typeof obj2?"undefined":_typeof(obj2);if(obj1===obj2)return!0;if(obj1!==obj1&&obj2!==obj2)return!0;if(null===obj1||void 0===obj1||null===obj2||void 0===obj2)return!1;if(obj1.equals)return obj1.equals(obj2);if(obj2.equals)return obj2.equals(obj1);if(t1===t2&&"object"===t1)if(bmoor.isArrayLike(obj1)){if(!bmoor.isArrayLike(obj2))return!1;if((c=obj1.length)===obj2.length){for(i=0;i<c;i++)if(!equals(obj1[i],obj2[i]))return!1;return!0}}else if(!bmoor.isArrayLike(obj2)){keyCheck={};for(i in obj1)if(obj1.hasOwnProperty(i)){if(!equals(obj1[i],obj2[i]))return!1;keyCheck[i]=!0}for(i in obj2)if(obj2.hasOwnProperty(i)&&!keyCheck&&void 0!==obj2[i])return!1}return!1}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},bmoor=__webpack_require__(4);module.exports={keys:keys,values:values,explode:explode,mask:mask,extend:extend,empty:empty,copy:copy,merge:merge,equals:equals}},function(module,exports){"use strict";function always(promise,func){return promise.then(func,func),promise}module.exports={always:always}},function(module,exports,__webpack_require__){"use strict";function trim(str,chr){return chr||(chr="\\s"),str.replace(new RegExp("^"+chr+"+|"+chr+"+$","g"),"")}function ltrim(str,chr){return chr||(chr="\\s"),str.replace(new RegExp("^"+chr+"+","g"),"")}function rtrim(str,chr){return chr||(chr="\\s"),str.replace(new RegExp(chr+"+$","g"),"")}function getCommands(str){var commands=str.split("|");return commands.forEach(function(command,key){var args=command.split(":");args.forEach(function(arg,k){args[k]=trim(arg)}),commands[key]={command:command,method:args.shift(),args:args}}),commands}function stackFunctions(newer,older){return function(o){return older(newer(o))}}function doFilters(ters){for(var fn,command,filter;ters.length;)command=ters.pop(),fn=filters[command.method].apply(null,command.args),filter=filter?stackFunctions(fn,filter):fn;return filter}function doVariable(lines){var fn,dex,line,getter,commands,remainder;return lines.length?(line=lines.shift(),dex=line.indexOf("}}"),fn=doVariable(lines),dex===-1?function(){return"--no close--"}:(0===dex?(remainder=line.substr(2),getter=function(o){return bmoor.isObject(o)?JSON.stringify(o):o}):(commands=getCommands(line.substr(0,dex)),remainder=line.substr(dex+2),getter=bmoor.makeGetter(commands.shift().command),commands.length&&(getter=stackFunctions(getter,doFilters(commands,getter)))),fn?function(obj){return getter(obj)+remainder+fn(obj)}:function(obj){return getter(obj)+remainder})):null}function getFormatter(str){var fn,lines=str.split(/{{/g);return lines.length>1?(str=lines.shift(),fn=doVariable(lines),function(obj){return str+fn(obj)}):function(){return str}}var bmoor=__webpack_require__(4),filters={precision:function(dec){return dec=parseInt(dec,10),function(num){return parseFloat(num,10).toFixed(dec)}},currency:function(){return function(num){return"$"+num}}};getFormatter.filters=filters,module.exports={trim:trim,ltrim:ltrim,rtrim:rtrim,getCommands:getCommands,getFormatter:getFormatter}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},Index=__webpack_require__(10),Bucketer=function(_Index){function Bucketer(hasher,onInsert,onRemove){_classCallCheck(this,Bucketer);var _this=_possibleConstructorReturn(this,(Bucketer.__proto__||Object.getPrototypeOf(Bucketer)).call(this,hasher));return _this._onInsert=onInsert,_this._onRemove=onRemove,_this}return _inherits(Bucketer,_Index),_createClass(Bucketer,[{key:"_insert",value:function(cuid,obj){var collection=_get(Bucketer.prototype.__proto__||Object.getPrototypeOf(Bucketer.prototype),"_insert",this).call(this,cuid,obj);return collection&&this._onInsert(collection,obj),collection}},{key:"_remove",value:function(cuid,obj){var collection=_get(Bucketer.prototype.__proto__||Object.getPrototypeOf(Bucketer.prototype),"_remove",this).call(this,cuid,obj);return collection&&this._onRemove(collection,obj),collection}}]),Bucketer}(Index);module.exports=Bucketer},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _insert(grid,datum){var x,xc,y,yc,row,xMin,xMax,yMin,yMax,info=grid.index[getUid(datum)],box=info.getBox(datum);for(box.xMin>box.xMax?(xMin=grid.xCalc(box.xMax),xMax=grid.xCalc(box.xMin)):(xMin=grid.xCalc(box.xMin),xMax=grid.xCalc(box.xMax)),box.yMin>box.yMax?(yMin=grid.yCalc(box.yMax),yMax=grid.yCalc(box.yMin)):(yMin=grid.yCalc(box.yMin),yMax=grid.yCalc(box.yMax)),info.$old={xMin:xMin,xMax:xMax,yMin:yMin,yMax:yMax},x=xMin,xc=xMax+1;x<xc;x++)for(grid._xDex[x].insert(datum),row=grid._grid[x],y=yMin,yc=yMax+1;y<yc;y++)row[y].insert(datum);for(y=yMin,yc=yMax+1;y<yc;y++)grid._yDex[y].insert(datum)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),bmoor=__webpack_require__(7),getUid=bmoor.data.getUid,Collection=__webpack_require__(9),GridIndex=function(){function GridIndex(config,divisions,CollectionClass){_classCallCheck(this,GridIndex),divisions||(divisions=10),this.config=config,this.CollectionClass=CollectionClass||Collection,this.reset(divisions)}return _createClass(GridIndex,[{key:"reset",value:function(divisions){var i,j,xMin,xMax,xDiff,yMin,yMax,yDiff,xDex=[],yDex=[],grid=[],config=this.config;for(config.xMin>config.xMax?(xMin=config.xMax,xMax=config.xMin):(xMin=config.xMin,xMax=config.xMax),xDiff=xMax-xMin,config.yMin>config.yMax?(yMin=config.yMax,yMax=config.yMin):(yMin=config.yMin,yMax=config.yMax),yDiff=yMax-yMin,i=0;i<divisions;i++)for(grid.push([]),xDex.push(new this.CollectionClass),yDex.push(new this.CollectionClass),j=0;j<divisions;j++)grid[i].push(new this.CollectionClass);this.xCalc=function(x){var t=Math.floor((x-xMin)/xDiff*divisions);return t<0?t=0:t>=divisions&&(t=divisions-1),t},this.yCalc=function(y){var t=Math.floor((y-yMin)/yDiff*divisions);return t<0?t=0:t>=divisions&&(t=divisions-1),t},this.index={},this._grid=grid,this._xDex=xDex,this._yDex=yDex}},{key:"insert",value:function(datum,getBox,xIntersect,yIntersect){var info,uid=getUid(datum);this.index[uid]?info=this.index[uid]:this.index[uid]=info={},info.getBox=getBox,info.xIntersect=xIntersect,info.yIntersect=yIntersect,_insert(this,datum)}},{key:"check",value:function(x,y){var _this=this,xDex=this.xCalc(x),yDex=this.yCalc(y);return this._grid[xDex][yDex].$filter(function(datum){var info=_this.index[getUid(datum)];return info.xIntersect(datum,x)&&info.yIntersect(datum,y)})}},{key:"checkX",value:function(x){var _this2=this,xDex=this.xCalc(x);return this._xDex[xDex].$filter(function(datum){var info=_this2.index[getUid(datum)];return info.xIntersect(datum,x)})}},{key:"checkY",value:function(y){var _this3=this,yDex=this.yCalc(y);return this._yDex[yDex].$filter(function(datum){var info=_this3.index[getUid(datum)];return info.yIntersect(datum,y)})}}]),GridIndex}();module.exports=GridIndex},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),MemoryNode=function(){function MemoryNode(){_classCallCheck(this,MemoryNode)}return _createClass(MemoryNode,[{key:"construct",value:function(){this.prev=null,this.next=null}},{key:"detach",value:function(){this.prev?(this.next?(this.prev.next=this.next,this.next.prev=this.prev,this.next=null):this.prev.next=null,this.prev=null):this.next&&(this.next.prev=null,this.next=null)}},{key:"insertBefore",value:function(node){this.detach(),node.prev&&(this.prev=node.prev,this.prev.next=this),node.prev=this,this.next=node}},{key:"insertAfter",value:function(node){this.detach(),node.next&&(this.next=node.next,this.next.prev=this),node.next=this,this.prev=node}}]),MemoryNode}(),Memory=function(){function Memory(hasher,limit,lifetime){_classCallCheck(this,Memory);var unsets={};this.index={},this.limit=limit,this.length=0,this.hasher=hasher,this.head=new MemoryNode,this.tail=new MemoryNode,this.tail.insertAfter(this.head),lifetime?this.govern=function(hash){var _this=this,clear=unsets[hash];clear&&clearTimeout(clear),unsets[hash]=setTimeout(function(){_this.remove(_this.index[hash].$datum)},lifetime)}:this.govern=function(){}}return _createClass(Memory,[{key:"select",value:function(query){var hash=this.hasher.hash(query);return this.index[hash]}},{key:"get",value:function(dex){var i,node=this.head.next;for(dex>this.length&&(dex=this.length),i=0;i<dex;i++)node=node.next;return node.$datum}},{key:"first",value:function(){return this.head.next.$datum}},{key:"last",value:function(){return this.tail.prev.$datum}},{key:"insert",value:function(datum){var hash=this.hasher.hash(datum),node=this.index[hash];node||(node=new MemoryNode,node.$datum=datum,this.index[hash]=node,this.length===this.limit&&this.remove(this.tail.prev.$datum),this.length++),node.insertAfter(this.head),this.govern(hash)}},{key:"remove",value:function(datum){var hash=this.hasher.hash(datum),node=this.index[hash];node&&(this.length--,delete this.index[hash],node.detach())}}]),Memory}();module.exports=Memory},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function getIndex(indexes,root,query){var keys=Object.keys(query).sort(),fields=keys.join("::"),index=indexes[fields];return index||(index=new Index(new Hasher(keys),root),indexes[fields]=index),index}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Index=__webpack_require__(10),Hasher=__webpack_require__(22),Collection=__webpack_require__(9),HashedCollection=__webpack_require__(21),Table=function(){function Table(primary){_classCallCheck(this,Table),primary?this.primary=new HashedCollection(new Hasher(primary)):this.primary=new Collection,this.indexes={}}return _createClass(Table,[{key:"select",value:function(query){return this.primary instanceof HashedCollection&&this.primary._hasher.canFulfill(query)?this.primary.select(query):getIndex(this.indexes,this.primary,query).select(query)}},{key:"insert",value:function(datum){return this.primary.insert(datum)}},{key:"update",value:function(datum){return this.primary.update(datum)}},{key:"publish",value:function(datum){this.insert(datum)||this.update(datum)}},{key:"remove",value:function(datum){this.primary.remove(datum)}}]),Table}();module.exports=Table},function(module,exports,__webpack_require__){"use strict";var bmoor=Object.create(__webpack_require__(5));bmoor.dom=__webpack_require__(72),bmoor.data=__webpack_require__(71),bmoor.array=__webpack_require__(66),bmoor.object=__webpack_require__(73),bmoor.build=__webpack_require__(67),bmoor.string=__webpack_require__(75),bmoor.promise=__webpack_require__(74),bmoor.Eventing=__webpack_require__(65),module.exports=bmoor},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Eventing=function(){function Eventing(){_classCallCheck(this,Eventing),this._listeners={}}return _createClass(Eventing,[{key:"on",value:function(event,cb){var dis=this;return this._listeners[event]||(this._listeners[event]=[]),this._listeners[event].push(cb),function(){dis._listeners[event].splice(dis._listeners[event].indexOf(cb),1)}}},{key:"subscribe",value:function(subscriptions){var dis=this,kills=[],events=Object.keys(subscriptions);return events.forEach(function(event){var action=subscriptions[event];kills.push(dis.on(event,action))}),function(){kills.forEach(function(kill){
kill()})}}},{key:"trigger",value:function(event){var i,c,listeners,args=Array.prototype.slice.call(arguments,1);if(this._listeners&&(listeners=this._listeners[event]))for(listeners=listeners.slice(0),i=0,c=listeners.length;i<c;i++)listeners[i].apply(this,args)}}]),Eventing}();module.exports=Eventing},function(module,exports,__webpack_require__){"use strict";function indexOf(arr,searchElement,fromIndex){if(arr.indexOf)return arr.indexOf(searchElement,fromIndex);var length=parseInt(arr.length,0);for(fromIndex=+fromIndex||0,Math.abs(fromIndex)===1/0&&(fromIndex=0),fromIndex<0&&(fromIndex+=length,fromIndex<0&&(fromIndex=0));fromIndex<length;fromIndex++)if(arr[fromIndex]===searchElement)return fromIndex;return-1}function remove(arr,searchElement,fromIndex){var pos=indexOf(arr,searchElement,fromIndex);if(pos>-1)return arr.splice(pos,1)[0]}function removeAll(arr,searchElement,fromIndex){var r,pos=indexOf(arr,searchElement,fromIndex);return pos>-1?(r=removeAll(arr,searchElement,pos+1),r.unshift(arr.splice(pos,1)[0]),r):[]}function bisect(arr,value,func,preSorted){var idx,val,bottom=0,top=arr.length-1;if(preSorted||arr.sort(function(a,b){return func(a)-func(b)}),func(arr[bottom])>=value)return{left:bottom,right:bottom};if(func(arr[top])<=value)return{left:top,right:top};if(arr.length){for(;top-bottom>1;)idx=Math.floor((top+bottom)/2),val=func(arr[idx]),val===value?(top=idx,bottom=idx):val>value?top=idx:bottom=idx;return top!==idx&&func(arr[top])===value?{left:top,right:top}:bottom!==idx&&func(arr[bottom])===value?{left:bottom,right:bottom}:{left:bottom,right:top}}}function filter(arr,func,thisArg){if(arr.filter)return arr.filter(func,thisArg);var i,val,t=Object(this),c=parseInt(t.length,10),res=[];if(!bmoor.isFunction(func))throw new Error("func needs to be a function");for(i=0;i<c;i++)i in t&&(val=t[i],func.call(thisArg,val,i,t)&&res.push(val));return res}function compare(arr1,arr2,func){var cmp,left=[],right=[],leftI=[],rightI=[];for(arr1=arr1.slice(0),arr2=arr2.slice(0),arr1.sort(func),arr2.sort(func);arr1.length>0&&arr2.length>0;)cmp=func(arr1[0],arr2[0]),cmp<0?left.push(arr1.shift()):cmp>0?right.push(arr2.shift()):(leftI.push(arr1.shift()),rightI.push(arr2.shift()));for(;arr1.length;)left.push(arr1.shift());for(;arr2.length;)right.push(arr2.shift());return{left:left,intersection:{left:leftI,right:rightI},right:right}}var bmoor=__webpack_require__(5);module.exports={indexOf:indexOf,remove:remove,removeAll:removeAll,bisect:bisect,filter:filter,compare:compare}},[114,5,69,70,68],[115,5],[116,5],[117,5],function(module,exports){"use strict";function nextUid(){return++_id}function setUid(obj){var t=obj.$$bmoorUid;return t||(t=obj.$$bmoorUid=nextUid()),t}function getUid(obj){return obj.$$bmoorUid||setUid(obj),obj.$$bmoorUid}var _id=0;module.exports={setUid:setUid,getUid:getUid}},function(module,exports,__webpack_require__){"use strict";function getReg(className){var reg=regex[className];return reg||(reg=new RegExp("(?:^|\\s)"+className+"(?!\\S)"),regex[className]=reg),reg}function getScrollPosition(doc){return doc||(doc=document),{left:window.pageXOffset||(doc.documentElement||doc.body).scrollLeft,top:window.pageYOffset||(doc.documentElement||doc.body).scrollTop}}function getBoundryBox(element){return element.getBoundingClientRect()}function centerOn(element,target,doc){var el=getBoundryBox(element),targ=getBoundryBox(target),pos=getScrollPosition(doc);doc||(doc=document),element.style.top=pos.top+targ.top+targ.height/2-el.height/2,element.style.left=pos.left+targ.left+targ.width/2-el.width/2,element.style.right="",element.style.bottom="",element.style.position="absolute",doc.body.appendChild(element)}function showOn(element,target,doc){var direction,targ=getBoundryBox(target),x=targ.x+targ.width/2,y=targ.y+targ.height/2,centerX=window.innerWidth/2,centerY=window.innerHeight/2,pos=getScrollPosition(doc);return doc||(doc=document),x<centerX?(direction="r",element.style.left=pos.left+targ.right,element.style.right=""):(direction="l",element.style.right=window.innerWidth-targ.left-pos.left,element.style.left=""),y<centerY?(direction="b"+direction,element.style.top=pos.top+targ.bottom,element.style.bottom=""):(direction="t"+direction,element.style.bottom=window.innerHeight-targ.top-pos.top,element.style.top=""),element.style.position="absolute",doc.body.appendChild(element),direction}function massage(elements){return bmoor.isArrayLike(elements)||(elements=[elements]),elements}function getDomElement(element,doc){return doc||(doc=document),bmoor.isString(element)?doc.querySelector(element):element}function getDomCollection(elements,doc){var i,c,j,co,el,selection,els=[];for(doc||(doc=document),elements=massage(elements),i=0,c=elements.length;i<c;i++)if(el=elements[i],bmoor.isString(el))for(selection=doc.querySelectorAll(el),j=0,co=selection.length;j<co;j++)els.push(selection[j]);else els.push(el);return els}function addClass(elements,className){var i,c,node,baseClass,reg=getReg(className);for(elements=massage(elements),i=0,c=elements.length;i<c;i++)node=elements[i],baseClass=node.getAttribute("class")||"",baseClass.match(reg)||node.setAttribute("class",baseClass+" "+className)}function removeClass(elements,className){var i,c,node,reg=getReg(className);for(elements=massage(elements),i=0,c=elements.length;i<c;i++)node=elements[i],node.setAttribute("class",(node.getAttribute("class")||"").replace(reg,""))}function triggerEvent(elements,eventName,eventData){var i,c,doc,node,event,EventClass;for(elements=massage(elements),i=0,c=elements.length;i<c;i++){if(node=elements[i],node.ownerDocument)doc=node.ownerDocument;else if(9===node.nodeType)doc=node;else{if("undefined"==typeof document)throw new Error("Invalid node passed to fireEvent: "+node.id);doc=document}if(node.dispatchEvent){try{switch(eventName){case"click":case"mousedown":case"mouseup":EventClass=MouseEvent;break;case"focus":case"blur":EventClass=FocusEvent;break;case"change":case"select":EventClass=UIEvent;break;default:EventClass=CustomEvent}eventData?(void 0===eventData.bubbles&&(eventData.bubbles=!0),void 0===eventData.cancelable&&(eventData.cancelable=!0)):eventData={view:window,bubbles:!0,cancelable:!0},event=new EventClass(eventName,eventData)}catch(ex){switch(eventName){case"click":case"mousedown":case"mouseup":EventClass="MouseEvents";break;case"focus":case"change":case"blur":case"select":EventClass="HTMLEvents";break;default:EventClass="CustomEvent"}event=doc.createEvent(EventClass),event.initEvent(eventName,!0,!0)}event.$synthetic=!0,node.dispatchEvent(event)}else node.fireEvent&&(event=doc.createEventObject(),event.$synthetic=!0,node.fireEvent("on"+eventName,event))}}function bringForward(elements){var i,c,node;for(elements=massage(elements),i=0,c=elements.length;i<c;i++)node=elements[i],node.parentNode&&node.parentNode.appendChild(node)}var bmoor=__webpack_require__(5),regex={};module.exports={getScrollPosition:getScrollPosition,getBoundryBox:getBoundryBox,getDomElement:getDomElement,getDomCollection:getDomCollection,showOn:showOn,centerOn:centerOn,addClass:addClass,removeClass:removeClass,triggerEvent:triggerEvent,bringForward:bringForward}},function(module,exports,__webpack_require__){"use strict";function values(obj){var res=[];return bmoor.naked(obj,function(v){res.push(v)}),res}function keys(obj){var res=[];return Object.keys?Object.keys(obj):(bmoor.naked(obj,function(v,key){res.push(key)}),res)}function explode(target,mappings){return mappings||(mappings=target,target={}),bmoor.iterate(mappings,function(val,mapping){bmoor.set(target,mapping,val)}),target}function implode(obj,ignore){var rtn={};return ignore||(ignore={}),bmoor.iterate(obj,function(val,key){var t=ignore[key];bmoor.isObject(val)?t===!1?rtn[key]=val:t&&!bmoor.isObject(t)||bmoor.iterate(implode(val,t),function(v,k){rtn[key+"."+k]=v}):t||(rtn[key]=val)}),rtn}function mask(obj){if(Object.create){var T=function(){};return T.prototype=obj,new T}return Object.create(obj)}function extend(to){return bmoor.loop(arguments,function(cpy){cpy!==to&&(to&&to.extend?to.extend(cpy):bmoor.iterate(cpy,function(value,key){to[key]=value}))}),to}function empty(to){bmoor.iterate(to,function(v,k){delete to[k]})}function copy(to){return empty(to),extend.apply(void 0,arguments)}function merge(to){var from,i,c,m=function(val,key){to[key]=merge(to[key],val)};for(i=1,c=arguments.length;i<c;i++)from=arguments[i],to!==from&&from&&(to&&to.merge?to.merge(from):bmoor.isObject(to)?bmoor.safe(from,m):to=bmoor.isObject(from)?merge({},from):from);return to}function equals(obj1,obj2){var c,i,keyCheck,t1="undefined"==typeof obj1?"undefined":_typeof(obj1),t2="undefined"==typeof obj2?"undefined":_typeof(obj2);if(obj1===obj2)return!0;if(obj1!==obj1&&obj2!==obj2)return!0;if(null===obj1||void 0===obj1||null===obj2||void 0===obj2)return!1;if(obj1.equals)return obj1.equals(obj2);if(obj2.equals)return obj2.equals(obj1);if(t1===t2&&"object"===t1)if(bmoor.isArrayLike(obj1)){if(!bmoor.isArrayLike(obj2))return!1;if((c=obj1.length)===obj2.length){for(i=0;i<c;i++)if(!equals(obj1[i],obj2[i]))return!1;return!0}}else if(!bmoor.isArrayLike(obj2)){keyCheck={};for(i in obj1)if(obj1.hasOwnProperty(i)){if(!equals(obj1[i],obj2[i]))return!1;keyCheck[i]=!0}for(i in obj2)if(obj2.hasOwnProperty(i)&&!keyCheck&&void 0!==obj2[i])return!1}return!1}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},bmoor=__webpack_require__(5);module.exports={keys:keys,values:values,explode:explode,implode:implode,mask:mask,extend:extend,empty:empty,copy:copy,merge:merge,equals:equals}},58,function(module,exports,__webpack_require__){"use strict";function trim(str,chr){return chr||(chr="\\s"),str.replace(new RegExp("^"+chr+"+|"+chr+"+$","g"),"")}function ltrim(str,chr){return chr||(chr="\\s"),str.replace(new RegExp("^"+chr+"+","g"),"")}function rtrim(str,chr){return chr||(chr="\\s"),str.replace(new RegExp(chr+"+$","g"),"")}function getCommands(str){var commands=str.split("|");return commands.forEach(function(command,key){var args=command.split(":");args.forEach(function(arg,k){args[k]=trim(arg)}),commands[key]={command:command,method:args.shift(),args:args}}),commands}function stackFunctions(newer,older){return function(o){return older(newer(o))}}function doFilters(ters){for(var fn,command,filter;ters.length;)command=ters.pop(),fn=filters[command.method].apply(null,command.args),filter=filter?stackFunctions(fn,filter):fn;return filter}function doVariable(lines){var fn,rtn,dex,line,getter,command,commands,remainder;return lines.length?(line=lines.shift(),dex=line.indexOf("}}"),fn=doVariable(lines),dex===-1?function(){return"| no close |"}:(0===dex?(remainder=line.substr(2),getter=function(o){return bmoor.isObject(o)?JSON.stringify(o):o}):(commands=getCommands(line.substr(0,dex)),command=commands.shift().command,remainder=line.substr(dex+2),getter=bmoor.makeGetter(command),commands.length&&(getter=stackFunctions(getter,doFilters(commands,getter)))),fn?(rtn=function(obj){return getter(obj)+remainder+fn(obj)},rtn.$vars=fn.$vars):(rtn=function(obj){return getter(obj)+remainder},rtn.$vars=[]),command&&rtn.$vars.push(command),rtn)):null}function getFormatter(str){var fn,rtn,lines=str.split(/{{/g);return lines.length>1?(str=lines.shift(),fn=doVariable(lines),rtn=function(obj){return str+fn(obj)},rtn.$vars=fn.$vars):(rtn=function(){return str},rtn.$vars=[]),rtn}var bmoor=__webpack_require__(5),filters={precision:function(dec){return dec=parseInt(dec,10),function(num){return parseFloat(num,10).toFixed(dec)}},currency:function(){return function(num){return"$"+num}}};getFormatter.filters=filters,module.exports={trim:trim,ltrim:ltrim,rtrim:rtrim,getCommands:getCommands,getFormatter:getFormatter}},function(module,exports,__webpack_require__){"use strict";module.exports={Box:__webpack_require__(24),Chart:__webpack_require__(25),Element:__webpack_require__(3),Page:__webpack_require__(26),Pane:__webpack_require__(27),View:__webpack_require__(28),Zoom:__webpack_require__(29)}},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Reference=function(){function Reference(root){_classCallCheck(this,Reference),this.$getRoot=function(){return root},root.getValue?this.getValue=function(d){return root.getValue(d,this.$view.normalizer.$stats)}:void 0===root.getValue&&(this.getValue=function(d){if(d)return d[this.field]}),this.resetField()}return _createClass(Reference,[{key:"resetField",value:function(){this.field=this.$getRoot().field}},{key:"setField",value:function(field){this.field=field}},{key:"getField",value:function(){return this.field}},{key:"setView",value:function(viewComp){this.$view=viewComp}},{key:"getRaw",value:function(d){if(d)return d[this.$getRoot().field]}},{key:"eachNode",value:function(fn){this.$view.normalizer.$sort().forEach(fn)}},{key:"getStats",value:function(){return this.$view.normalizer.$stats}},{key:"$getNode",value:function(index){return this.$view.normalizer.$getNode(index)}},{key:"$getClosest",value:function(index){return this.$view.normalizer.$getClosest(index,"$x")}},{key:"$getClosestValue",value:function(index){return this.getValue(this.$getClosest(index))}},{key:"$getIndexs",value:function(){return this.$view.normalizer.$getIndexs()}},{key:"$getValue",value:function(index){var t=this.$getNode(index);if(t)return this.getValue(t)}}]),Reference}();module.exports=Reference},function(module,exports,__webpack_require__){"use strict";module.exports={Bucketer:__webpack_require__(12),Feed:__webpack_require__(30),Hasher:__webpack_require__(79),List:__webpack_require__(14),Linear:__webpack_require__(13),Loader:__webpack_require__(31),Manager:__webpack_require__(32),Normalizer:__webpack_require__(33)}},function(module,exports){"use strict";function doBucketize(fn,bucket){return fn?function(value){return value<bucket?bucket:fn(value)}:function(){return bucket}}module.exports={bucketize:function(buckets){var i,fn;for(i=buckets.length-1;i>-1;i--)fn=doBucketize(fn,buckets[i]);return fn}}},function(module,exports,__webpack_require__){"use strict";var d3=__webpack_require__(2);__webpack_require__(1).module("vgraph").directive("vgraphAxis",[function(){function collides(p,b){return!(p.bottom<b.top||p.top>b.bottom||p.right<b.left||p.left>b.right)}return{scope:{orient:"=vgraphAxis",adjust:"=axisAdjust",rotation:"=tickRotation"},require:["^vgraphChart"],link:function(scope,el,attrs,requirements){function hide(){$el.attr("visibility","hidden")}var express,makeTicks,min,max,ticks,$ticks,$tickMarks,$tickMargin,$axisLabel,$axisPadding,$axisLabelWrap,graph=requirements[0],view=graph.getView(attrs.view||"default"),box=graph.box,axis=d3.svg.axis(),className="axis",labelOffset=0,tickRotation=null,labelClean=!0,labelEndpoints=!1,tickLength=parseInt(attrs.tickLength)||0,tickPadding=parseInt(attrs.tickPadding)||3,tickMargin=parseInt(attrs.tickMargin)||0,$el=d3.select(el[0]);switch($el.attr("visibility","hidden"),$ticks=$el.append("g").attr("class","ticks"),$axisPadding=$el.append("g").attr("class","padding"),$tickMarks=$axisPadding.append("g").attr("class","tick-marks"),$tickMargin=$axisPadding.append("rect").attr("class","tick-margin"),$axisLabelWrap=$el.append("g").attr("class","label-wrap"),attrs.tickRotation&&(tickRotation=parseInt(attrs.tickRotation,10)%360),attrs.labelOffset&&(labelOffset=scope.$eval(attrs.labelOffset)),attrs.labelClean&&(labelClean=scope.$eval(attrs.labelClean)),attrs.labelEndpoints&&(labelEndpoints=scope.$eval(attrs.labelEndpoints)),attrs.axisLabel&&($axisLabel=$axisLabelWrap.append("text").attr("class","axis-label label"),scope.$parent.$watch(attrs.axisLabel,function(label){$axisLabel.text(label)})),makeTicks=function(){attrs.tickMarks?(axis.tickValues(scope.$eval(attrs.tickMarks)),ticks=[]):attrs.tickCount?(axis.ticks(scope.$eval(attrs.tickCount)),ticks=[]):(axis.ticks(10),ticks=[])},scope.orient){case"top":express=function(){var axisMaxMin;if($el.attr("class",className+" x top").attr("transform","translate("+box.left+","+(box.top-tickLength)+")").attr("width",box.width).attr("height",box.padding.top),$axisLabel&&$axisLabel.attr("text-anchor","middle").attr("x",box.width/2).attr("y",box.padding.top-labelOffset),tickMargin&&$tickMargin.attr("height",tickMargin).attr("width",box.inner.width).attr("x",0).attr("y",-tickMargin),$tickMarks.attr("transform","translate(-"+box.margin.left+",0)"),ticks&&(axis.orient("top").tickFormat(view.x.format).innerTickSize(-(box.inner.height+tickLength+tickMargin)).outerTickSize(0).tickPadding(tickPadding+tickLength+tickMargin).scale(view.x.scale),view.x.tick&&axis.ticks(view.x.tick.interval,view.x.tick.step),$ticks.attr("transform","translate(-"+box.margin.left+","+box.padding.top+")").call(axis),axisMaxMin=$el.selectAll("g.axis-cap").data(view.x.scale.domain()),labelEndpoints&&(axisMaxMin.enter().append("g").attr("class",function(d,i){return"axis-cap "+(i?"axis-max":"axis-min")}).append("text"),axisMaxMin.exit().remove(),axisMaxMin.attr("transform",function(d){return"translate("+(view.x.scale(d)-box.margin.left)+",0)"}).select("text").text(function(d){var v=view.x.format(d);return(""+v).match("NaN")?"":v}).attr("dy","-0.25em").attr("y",box.padding.top).attr("text-anchor","middle")),tickRotation)){if(null===$ticks.select(".tick text")[0][0])return;$ticks.selectAll(".tick text").attr("transform","translate(0,"+$ticks.select(".tick text").attr("y")+") rotate("+tickRotation+",0,0)").attr("y","0").style("text-anchor",tickRotation%360>0?"end":"start"),axisMaxMin.select("text").attr("transform","rotate("+tickRotation+",0,0)").style("text-anchor",scope.rotation%360>0?"end":"start")}};break;case"bottom":express=function(){var axisMaxMin;if($el.attr("class",className+" x bottom").attr("transform","translate("+box.left+","+box.inner.bottom+")").attr("width",box.width).attr("height",box.padding.bottom),$axisLabel&&$axisLabel.attr("text-anchor","middle").attr("x",box.width/2).attr("y",box.padding.bottom+labelOffset),tickMargin&&$tickMargin.attr("height",tickMargin).attr("width",box.inner.width).attr("x",0).attr("y",0),$tickMarks.attr("transform","translate(-"+box.margin.left+",0)"),ticks&&(axis.orient("bottom").tickFormat(view.x.format).innerTickSize(box.inner.height+tickLength+tickMargin).outerTickSize(0).tickPadding(tickPadding+tickLength+tickMargin).scale(view.x.scale),view.x.tick&&axis.ticks(view.x.tick.interval,view.x.tick.step),$ticks.attr("transform","translate(-"+box.margin.left+","+-box.inner.height+")").call(axis),axisMaxMin=$el.selectAll("g.axis-cap").data(view.x.scale.domain()),labelEndpoints&&(axisMaxMin.enter().append("g").attr("class",function(d,i){return"axis-cap "+(i?"axis-max":"axis-min")}).append("text"),axisMaxMin.exit().remove(),axisMaxMin.attr("transform",function(d){return"translate("+(view.x.scale(d)-box.margin.left)+",0)"}).select("text").text(function(d){var v=view.x.format(d);return(""+v).match("NaN")?"":v}).attr("dy","1em").attr("y",0).attr("text-anchor","middle")),tickRotation)){if(null===$ticks.select(".tick text")[0][0])return;$ticks.selectAll(".tick text").attr("transform",function(){return"translate(0,"+d3.select(this).attr("y")+") rotate("+tickRotation+",0,0)"}).attr("y","0").style("text-anchor",tickRotation%360>0?"start":"end"),axisMaxMin.select("text").attr("transform","rotate("+tickRotation+",0,0)").style("text-anchor",scope.rotation%360>0?"start":"end")}};break;case"right":express=function(){var axisMaxMin;$el.attr("class",className+" y right").attr("transform","translate("+tickLength+","+box.top+")").attr("width",box.padding.right).attr("height",box.height),$axisLabelWrap.attr("transform","translate("+(box.right-box.padding.right)+","+box.height+") rotate( 90 )"),$axisLabel&&$axisLabel.attr("text-anchor","middle").attr("x",-(box.height/2)).attr("y",-labelOffset),tickMargin&&$tickMargin.attr("height",box.inner.height).attr("width",tickMargin).attr("x",-tickMargin).attr("y",0),$tickMarks.attr("transform","translate(-"+box.padding.right+","+(-box.top||0)+")"),ticks&&(axis.orient("right").tickFormat(view.y.format).innerTickSize(-(box.inner.width+tickLength+tickMargin)).outerTickSize(0).tickPadding(tickPadding+tickLength+tickMargin).scale(view.y.scale),view.y.tick&&axis.ticks(view.y.tick.interval,view.y.tick.step),$ticks.attr("transform","translate("+box.inner.right+","+(-box.top||0)+")"),$ticks.call(axis),$ticks.select(".domain").attr("transform","translate("+(tickLength+tickMargin)+",0)"),labelEndpoints&&(axisMaxMin=$el.selectAll("g.axis-cap").data(view.y.scale.domain()),axisMaxMin.enter().append("g").attr("class",function(d,i){return"axis-cap "+(i?"axis-max":"axis-min")}).append("text"),axisMaxMin.exit().remove(),axisMaxMin.attr("transform",function(d){return"translate(0,"+(view.y.scale(d)-box.margin.top)+")"}).select("text").text(function(d){var v=view.y.format(d);return(""+v).match("NaN")?"":v}).attr("dy",".25em").attr("x",box.padding.left-axis.tickPadding()).attr("text-anchor","end")))};break;case"left":express=function(){var axisMaxMin;$el.attr("class",className+" y left").attr("transform","translate("+box.left+","+box.top+")").attr("width",box.padding.left).attr("height",box.height),$axisLabelWrap.attr("transform","translate("+box.padding.left+","+box.height+") rotate( -90 )"),$axisLabel&&$axisLabel.attr("text-anchor","middle").attr("x",box.height/2).attr("y",-labelOffset),view.viewport.maxValue!==view.viewport.minValue&&(tickMargin&&$tickMargin.attr("height",box.inner.height).attr("width",tickMargin).attr("x",-tickMargin).attr("y",0),$tickMarks.attr("transform","translate("+box.padding.left+","+(-box.top||0)+")"),ticks&&(axis.orient("left").tickFormat(view.y.format).innerTickSize(-(box.inner.width+tickLength+tickMargin)).outerTickSize(0).tickPadding(tickPadding+tickLength+tickMargin).scale(view.y.scale),view.y.tick&&axis.ticks(view.y.tick.interval,view.y.tick.step),$ticks.attr("transform","translate("+(box.padding.left-tickLength-tickMargin)+","+(-box.top||0)+")").call(axis),$ticks.select(".domain").attr("transform","translate("+(tickLength+tickMargin)+",0)"),labelEndpoints&&(axisMaxMin=$el.selectAll("g.axis-cap").data(view.y.scale.domain()),axisMaxMin.enter().append("g").attr("class",function(d,i){return"axis-cap "+(i?"axis-max":"axis-min")}).append("text"),axisMaxMin.exit().remove(),axisMaxMin.attr("transform",function(d){return"translate(0,"+(view.y.scale(d)-box.margin.top)+")"}).select("text").text(function(d){var v=view.y.format(d);return(""+v).match("NaN")?"":v}).attr("dy",".25em").attr("x",box.padding.left-axis.tickPadding()).attr("text-anchor","end"))))}}scope.$on("$destroy",graph.$subscribe({error:hide,loading:hide})),graph.registerComponent({build:function(){void 0===ticks&&makeTicks(),express()},process:function(){ticks.length=0,tickLength&&($ticks.selectAll(".tick text").each(function(d){ticks.push({el:this,val:d,position:this.getBoundingClientRect()})}),ticks.sort(function(a,b){var t=a.position.top-b.position.top;return t?t:a.position.left-b.position.left})),labelClean&&(min=$el.select(".axis-min text").node(),min&&(min=min.getBoundingClientRect()),max=$el.select(".axis-max text").node(),max&&(max=max.getBoundingClientRect()))},finalize:function(){var valid,t,p,i,c,change,data=view.filtered,boundry={};if(!data)return void $el.attr("visibility","hidden");for($el.attr("visibility",""),$tickMarks.selectAll("line").remove(),i=0,c=ticks.length;i<c;i++)valid=!0,t=ticks[i],p=t.position,labelClean&&min&&(collides(p,min)||collides(p,max))?(t.el.setAttribute("class","collided"),valid=!1):void 0===boundry.left?(boundry.left=p.left,boundry.right=p.right,boundry.width=p.width,boundry.top=p.top,boundry.bottom=p.bottom,boundry.height=p.height,t.el.setAttribute("class","")):labelClean&&collides(p,boundry)?(t.el.setAttribute("class","collided"),valid=!1):(change=!1,p.left<boundry.left&&(boundry.left=p.left,change=!0),p.right>boundry.right&&(boundry.right=p.right,change=!0),change&&(boundry.width=boundry.right-boundry.left,change=!1),p.top<boundry.top&&(boundry.top=p.top,change=!0),p.bottom>boundry.bottom&&(boundry.bottom=p.bottom,change=!0),change&&(boundry.height=boundry.bottom-boundry.top),t.el.setAttribute("class",""))}},"axis-"+scope.orient)}}}])},function(module,exports,__webpack_require__){"use strict";var DrawBar=__webpack_require__(34),ComponentElement=__webpack_require__(3);__webpack_require__(1).module("vgraph").directive("vgraphBar",[function(){return{scope:{config:"=vgraphBar",pair:"=?pair"},require:["^vgraphChart","vgraphBar"],controller:ComponentElement,link:function(scope,$el,attrs,requirements){var el=$el[0],chart=requirements[0],element=requirements[1],className="bar ";scope.$watch("config",function(config){var cfg=chart.getReference(config),pair=chart.getReference(scope.pair);cfg&&(element.configure(chart,new DrawBar(cfg,pair,{width:parseInt(attrs.width,10),zeroed:attrs.zeroed,padding:parseFloat(attrs.padding),maxWidth:parseInt(attrs.maxWidth,10),minWidth:parseInt(attrs.minWidth,10)}),el,attrs.name),cfg.classExtend&&(className+=cfg.classExtend+" "),className+=attrs.className||cfg.className,el.setAttribute("class",className),cfg.$ops.$view.registerComponent(element))})}}}])},function(module,exports,__webpack_require__){"use strict";var DrawBox=__webpack_require__(15),ComponentElement=__webpack_require__(3);__webpack_require__(1).module("vgraph").directive("vgraphBox",[function(){return{scope:{config:"=vgraphBox"},require:["^vgraphChart","vgraphBox"],controller:ComponentElement,link:function(scope,$el,attrs,requirements){var el=$el[0],chart=requirements[0],element=requirements[1],className="box ";scope.$watch("config",function(config){var cfg=chart.getReference(config);cfg&&(element.configure(chart,new DrawBox(cfg),el,attrs.name),cfg.classExtend&&(className+=cfg.classExtend+" "),className+=attrs.className||cfg.className,el.setAttribute("class",className),cfg.$ops.$view.registerComponent(element))})}}}])},function(module,exports,__webpack_require__){"use strict";var DrawCandlestick=__webpack_require__(35),ComponentElement=__webpack_require__(3);__webpack_require__(1).module("vgraph").directive("vgraphCandlestick",[function(){return{scope:{config:"=vgraphCandlestick"},require:["^vgraphChart","vgraphCandlestick"],controller:ComponentElement,link:function(scope,$el,attrs,requirements){var className,el=$el[0],chart=requirements[0],element=requirements[1];scope.$watch("config",function(config){var cfg=chart.getReference(config);cfg&&(className="candlestick ",element.configure(chart,new DrawCandlestick(cfg),el,attrs.name),cfg.classExtend&&(className+=cfg.classExtend+" "),className+=attrs.className||cfg.className,el.setAttribute("class",className),cfg.$ops.$view.registerComponent(element))})}}}])},function(module,exports,__webpack_require__){"use strict";function throttle(fn,time){var active=!1;return function(){active||(active=!0,setTimeout(function(){active=!1,fn()},time))}}var d3=__webpack_require__(2),ComponentChart=__webpack_require__(25);__webpack_require__(1).module("vgraph").directive("vgraphChart",[function(){function resize(box){box.$mat&&box.inner.width&&(box.$mat.attr("class","mat").attr("width",box.inner.width).attr("height",box.inner.height).attr("transform","translate("+box.inner.left+","+box.inner.top+")"),box.$frame.attr("class","frame").attr("width",box.width).attr("height",box.height).attr("transform","translate("+box.left+","+box.top+")"))}return{scope:{settings:"=vgraphChart","interface":"=?interface"},controller:ComponentChart,require:["vgraphChart","^vgraphPage"],link:function($scope,$el,$attrs,requirements){var el,cfg,page=requirements[1],graph=requirements[0],box=graph.box,binded=box.resize.bind(box);el="svg"===$el[0].tagName?$el[0]:$el.find("svg")[0],graph.$root=$el[0],graph.$svg=el,box.$on("resize",function(){resize(box),graph.rerender(function(){$scope.$apply()})}),box.targetSvg(el),box.$mat=d3.select(el).insert("rect",":first-child"),box.$frame=d3.select(el).insert("rect",":first-child"),resize(box),$scope.$watch("settings",function(settings){settings&&setTimeout(function(){cfg&&cfg.onDestroy&&cfg.onDestroy(graph),cfg=settings,settings.onCreate&&settings.onCreate(graph),graph.configure(page,settings)},5)}),$scope.$on("$destroy",function(){cfg&&cfg.onDestroy&&cfg.onDestroy(graph)}),$scope.$watch("interface",function(face){face&&(face.resize=binded,face.error=graph.error.bind(graph))}),$attrs.name&&page.setChart($attrs.name,graph),$attrs.noResize||window.addEventListener("resize",throttle(binded,100))},restrict:"A"}}])},function(module,exports,__webpack_require__){"use strict";var ComponentElement=__webpack_require__(3);__webpack_require__(1).module("vgraph").directive("vgraphCompare",["$compile",function($compile){return{scope:{config1:"=config1",config2:"=config2"},require:["^vgraphChart"],link:function(scope,$el,attrs,requirements){function subscribe(){ref1&&ref2&&!unsubscribe&&($el[0].appendChild(element),$compile(element)(scope),unsubscribe=graph.$on("focus-point",function(point){var t,p1=point[ref1.view],p2=point[ref2.view],view1=ref1.$ops.$view,view2=ref2.$ops.$view,v1=ref1.$ops.getValue(p1),v2=ref2.$ops.getValue(p2);t=!v1&&0!==v1||!v2&&0!==v2?{x:(p1.$x+p2.$x)/2}:{value:Math.abs(v1-v2),y:(view1.y.scale(v1)+view2.y.scale(v2))/2,x:(p1.$x+p2.$x)/2},point[attrs.reference||"compare"]=t}))}var ref1,ref2,unsubscribe,graph=requirements[0],element=ComponentElement.svgCompile('<g><path vgraph-line="config1" pair="config2" class-name="'+(attrs.className||"")+'"></path></g>')[0];scope.$on("$destroy",unsubscribe),scope.$watch("config1",function(cfg){ref1=graph.getReference(cfg),subscribe()}),scope.$watch("config2",function(cfg){ref2=graph.getReference(cfg),subscribe()})}}}])},function(module,exports,__webpack_require__){"use strict";var DrawDots=__webpack_require__(36),ComponentElement=__webpack_require__(3);__webpack_require__(1).module("vgraph").directive("vgraphDots",[function(){return{scope:{config:"=vgraphDots"},require:["^vgraphChart","vgraphDots"],controller:ComponentElement,link:function(scope,$el,attrs,requirements){var className,el=$el[0],chart=requirements[0],element=requirements[1];scope.$watch("config",function(config){var cfg=chart.getReference(config);cfg&&(element.configure(chart,new DrawDots(cfg,attrs.radius?parseInt(attrs.Radius,10):5),el,attrs.name),className="point ",cfg.classExtend&&(className+=cfg.classExtend+" "),className+=attrs.className||cfg.className,el.setAttribute("class",className),cfg.$ops.$view.registerComponent(element))})}}}])},function(module,exports,__webpack_require__){"use strict";var makeBlob=__webpack_require__(46);__webpack_require__(1).module("vgraph").directive("vgraphExport",["$q",function($q){return{require:["^vgraphPage","^?vgraphChart"],scope:{labels:"=?labels",exports:"=vgraphExport",options:"=?options",selected:"=?selected"},template:'<select ng-disabled="processing" ng-model="selected" ng-options="opt as (labels[opt] || opt) for opt in options"></select><a ng-click="!disabled && process( exports[selected] )"><span>Export</span></a>',link:function($scope,el,attrs,requirements){var page=requirements[0];$scope.options||($scope.options=Object.keys($scope.exports)),$scope.selected||($scope.selected=$scope.options[0]),$scope.process=function(fn){$scope.processing=!0,$q.resolve(fn(requirements[1]||page.getChart(attrs.chart))).then(function(content){var blob=makeBlob(content),downloadLink=document.createElement("a");downloadLink.setAttribute("href",window.URL.createObjectURL(blob)),
downloadLink.setAttribute("download",content.name),downloadLink.setAttribute("target","_blank"),document.getElementsByTagName("body")[0].appendChild(downloadLink),setTimeout(function(){downloadLink.click(),document.getElementsByTagName("body")[0].removeChild(downloadLink)},5)})["finally"](function(){$scope.processing=!1})}}}}])},function(module,exports,__webpack_require__){"use strict";var d3=__webpack_require__(2);__webpack_require__(1).module("vgraph").directive("vgraphFocus",[function(){return{require:["^vgraphChart"],link:function(scope,el,attrs,requirements){var graph=requirements[0],box=graph.box,$el=d3.select(el[0]),$focus=$el.append("rect").attr("class","focus").attr("visibility","hidden");box.$on("resize",function(){$focus.attr("height",box.inner.height).attr("y",box.inner.top)}),graph.$on("drag",function(value){var xDiff,start,stop;value&&void 0!==value.xDiff&&(xDiff=Math.abs(value.xDiff),start=value.x0-xDiff,stop=value.x0+xDiff,$focus.attr("visibility","visible"),start>box.inner.left?$focus.attr("x",start):(start=box.inner.left,$focus.attr("x",box.inner.left)),stop>box.inner.right?$focus.attr("width",box.inner.right-start):$focus.attr("width",stop-start))}),graph.$on("drag-stop",function(value){var xDiff,start,stop,offset,currentWidth;value&&($focus.attr("visibility","hidden"),xDiff=Math.abs(value.xDiff),xDiff>3&&(start=value.x0-xDiff,stop=value.x0+xDiff,start<box.inner.left?start=0:start-=box.inner.left,stop>box.inner.right?stop=box.inner.width:stop-=box.inner.left,offset=graph.views[Object.keys(graph.views)[0]].offset,currentWidth=box.inner.width*offset.right-box.inner.width*offset.left,graph.zoom.setRatio((box.inner.width*offset.left+start/box.inner.width*currentWidth)/box.inner.width,(box.inner.width*offset.right-(box.inner.width-stop)/box.inner.width*currentWidth)/box.inner.width)))})},scope:{follow:"=vgraphFocus",stop:"=loseFocus"}}}])},function(module,exports,__webpack_require__){"use strict";var DrawHeatmap=__webpack_require__(38),ComponentElement=__webpack_require__(3);__webpack_require__(1).module("vgraph").directive("vgraphHeatmap",["$compile",function($compile){return{scope:{config:"=vgraphHeatmap",indexs:"=indexs",calculate:"=calculator"},require:["^vgraphChart","vgraphHeatmap"],controller:ComponentElement,link:function(scope,$el,attrs,requirements){function calcArea(){area.x1=box.inner.left,area.x2=box.inner.right,area.y1=box.inner.top,area.y2=box.inner.bottom,area.labelLeft=box.left,area.labelWidth=box.padding.left,area.labelTop=box.top,area.labelHeight=box.padding.top}var el=$el[0],area={},chart=requirements[0],element=requirements[1],box=chart.box,children=[],templates={cell:el.getElementsByTagName("cell")[0].innerHTML.replace(/ng-binding/g,""),xHeading:el.getElementsByTagName("x-heading")[0].innerHTML.replace(/ng-binding/g,""),yHeading:el.getElementsByTagName("y-heading")[0].innerHTML.replace(/ng-binding/g,"")};el.innerHTML="",el.setAttribute("class","heatmap "+el.getAttribute("class")),calcArea(),box.$on("resize",calcArea),element._build=element.build,element.build=function(){children.forEach(function(child){child.$destroy()}),children=[],scope.calculate&&scope.calculate(this.drawer.dataSets),this._build()},element.onAppend=function(element,dataSet){var child=scope.$parent.$new();child.content=dataSet,children.push(child),$compile(element)(child),child.$digest()},scope.$watch("config",function(config){var refs;config&&(refs=void 0!==config.length?config.slice(0):[config],refs.forEach(function(ref,i){refs[i]=chart.getReference(ref)}),element.configure(chart,new DrawHeatmap(refs,area,templates,scope.indexs),el,attrs.name,attrs.publish),refs.forEach(function(ref){ref.$ops.$view.registerComponent(element)}))})}}}])},function(module,exports,__webpack_require__){"use strict";__webpack_require__(1).module("vgraph").directive("vgraphHighlight",[function(){return{require:["^vgraphPage","^?vgraphChart"],scope:!0,link:function($scope,el,attrs,requirements){function manageChart(chart){chart.$on("highlight",function(point){$scope[attrs.vgraphHighlight]=point,$scope.$digest()})}var page=requirements[0];requirements[1]?manageChart(requirements[1]):page.requireChart(attrs.chart,manageChart)}}}])},function(module,exports,__webpack_require__){"use strict";var d3=__webpack_require__(2),DrawIcon=__webpack_require__(39),ComponentElement=__webpack_require__(3);__webpack_require__(1).module("vgraph").directive("vgraphIcon",[function(){return{scope:{config:"=vgraphIcon"},require:["^vgraphChart","vgraphIcon"],controller:ComponentElement,link:function(scope,$el,attrs,requirements){var el=$el[0],$d3=d3.select(el),box=$d3.node().getBBox(),chart=requirements[0],element=requirements[1],content=el.innerHTML,className="icon ",oldParse=element.parse;element.parse=function(models){var t=oldParse.call(this,models),h=box.height/2;return t.min-=h,t.max+=h,t},el.innerHTML="",scope.$watch("config",function(config){var cfg=chart.getReference(config);cfg&&(element.configure(chart,new DrawIcon(cfg,box,content,{separate:attrs.separate,top:parseInt(attrs.top,10),left:parseInt(attrs.left,10),className:el.getAttribute("class")}),el,attrs.name),cfg.classExtend&&(className+=cfg.classExtend+" "),className+=attrs.className||cfg.className,el.setAttribute("class",className),cfg.$ops.$view.registerComponent(element))})}}}])},function(module,exports,__webpack_require__){"use strict";var d3=__webpack_require__(2);__webpack_require__(1).module("vgraph").directive("vgraphIndicator",[function(){return{require:["^vgraphChart"],scope:{config:"=?vgraphIndicator"},link:function(scope,el,attrs,requirements){function clearComponent(){$el.attr("visibility","hidden")}var cfg,_pulse,graph=requirements[0],radius=scope.$eval(attrs.pointRadius)||3,outer=scope.$eval(attrs.outerRadius),$el=d3.select(el[0]).attr("transform","translate(1000,1000)").attr("visibility","hidden"),$circle=$el.append("circle").attr("r",radius),$outer=$el.append("circle").attr("r",radius);scope.$watch("config",function(config){config&&(cfg=graph.getReference(config),$circle.attr("class","point inner "+cfg.className),$outer.attr("class","line outer "+cfg.className),outer&&(_pulse=function(){$outer.transition().duration(1e3).attr("r",outer).transition().duration(1e3).attr("r",radius).ease("sine").each("end",function(){setTimeout(function(){_pulse()},3e3)})})())}),scope.$on("$destroy",graph.$subscribe({error:clearComponent,loading:clearComponent})),graph.registerComponent({finalize:function(){var x,y,view=cfg.$ops.$view,d=view.getLeading(),v=cfg.$ops.getValue(d);v&&view.isLeading()?(x=d.$x,y=view.y.scale(v),x&&y&&($el.attr("transform","translate("+x+","+y+")"),$el.attr("visibility","visible"))):clearComponent()}})}}}])},function(module,exports,__webpack_require__){"use strict";var d3=__webpack_require__(2);__webpack_require__(1).module("vgraph").directive("vgraphInteract",[function(){return{require:["^vgraphChart"],link:function(scope,el,attrs,requirements){var dragStart,active,graph=requirements[0],dragging=!1,box=graph.box,$el=d3.select(el[0]),$rect=$el.append("rect").style("opacity","0").attr("class","focal").on("mousemove",function(){var pos=d3.mouse(this);dragging||(clearTimeout(active),graph.$trigger("focus",{x:pos[0],y:pos[1]}))}).on("mouseout",function(){dragging||(active=setTimeout(function(){graph.$trigger("focus",null)},100))});$el.attr("class","interactive"),$el.call(d3.behavior.drag().on("dragstart",function(){dragStart=d3.mouse(el[0]),dragging=!0,graph.$trigger("focus",null),graph.$trigger("drag-start",{x:dragStart[0],y:dragStart[1]})}).on("dragend",function(){var res=d3.mouse(el[0]);dragging=!1,graph.$trigger("drag-stop",{x0:dragStart[0],y0:dragStart[1],x1:res[0],x2:res[1],xDiff:res[0]-dragStart[0],yDiff:res[1]-dragStart[1]})}).on("drag",function(){var res=d3.mouse(el[0]);graph.$trigger("drag",{x0:dragStart[0],y0:dragStart[1],x1:res[0],x2:res[1],xDiff:res[0]-dragStart[0],yDiff:res[1]-dragStart[1]})})),$el.on("dblclick",function(){graph.zoom.setRatio(0,1)}),graph.registerComponent({finalize:function(){$rect.attr({x:box.inner.left,y:box.inner.top,width:box.inner.width,height:box.inner.height})}})}}}])},function(module,exports,__webpack_require__){"use strict";__webpack_require__(1).module("vgraph").directive("vgraphLabel",[function(){return{require:["^vgraphChart"],link:function($scope,el,attrs,requirements){var chart=requirements[0];chart.box.$on("resize",function(){var x,y,stats;stats="inner"===attrs.vgraphLabel?chart.box.inner:"padding"===attrs.vgraphLabel?chart.box:chart.box.outer,x="left"===attrs.x?stats.left:"right"===attrs.x?stats.right:chart.box.center,y="top"===attrs.y?stats.top:"bottom"===attrs.y?stats.bottom:chart.box.middle,el[0].setAttribute("transform","translate("+x+","+y+")")})}}}])},function(module,exports,__webpack_require__){"use strict";var d3=__webpack_require__(2),angular=__webpack_require__(1);angular.module("vgraph").directive("vgraphLeading",[function(){return{require:["^vgraphChart"],scope:{config:"=vgraphLeading"},link:function(scope,el,attrs,requirements){function parseConf(config){var cfg,i,c;if(elements={},$el.selectAll("line").remove(),configs=[],config)for(i=0,c=config.length;i<c;i++)cfg=chart.getReference(config[i]),cfg&&(configs.push(cfg),elements[cfg.id]=$el.append("line").attr("class","line "+cfg.className))}function clearComponent(){$el.attr("visibility","hidden")}var configs,elements,chart=requirements[0],$el=d3.select(el[0]);scope.$watchCollection("config",parseConf),scope.$on("$destroy",chart.$subscribe({error:clearComponent,loading:clearComponent})),chart.registerComponent({finalize:function(){var last,isValid=!0,points=[];angular.forEach(configs,function(cfg){var model=cfg.$ops.$view.normalizer,datum=model.$latestNode(cfg.field),value=cfg.$ops.getValue(datum);datum&&cfg.$ops.$view.isLeading()?points.push({el:elements[cfg.id],x:datum.$x,y:cfg.$ops.$view.y.scale(value)}):(elements[cfg.id].attr("visibility","hidden"),isValid=!1)}),points.sort(function(a,b){return a.y-b.y}),angular.forEach(points,function(p){last&&last.el.attr("visibility","visible").attr("x1",last.x).attr("x2",p.x).attr("y1",last.y).attr("y2",p.y),last=p}),last&&isValid?($el.attr("visibility","visible"),last.el.attr("visibility","visible").attr("x1",last.x).attr("x2",last.x).attr("y1",last.y).attr("y2",chart.box.inner.bottom)):clearComponent()}})}}}])},function(module,exports,__webpack_require__){"use strict";var DrawLine=__webpack_require__(16),DrawFill=__webpack_require__(37),ComponentElement=__webpack_require__(3);__webpack_require__(1).module("vgraph").directive("vgraphLine",[function(){return{scope:{config:"=vgraphLine",pair:"=?pair"},require:["^vgraphChart","vgraphLine"],controller:ComponentElement,link:function(scope,$el,attrs,requirements){function build(){null!==pair&&cfg&&(attrs.pair?(className="fill ",element.configure(chart,new DrawFill(cfg,pair),el,attrs.name),pair&&pair.$ops.$view.registerComponent(element)):(className="line ",element.configure(chart,new DrawLine(cfg),el,attrs.name)),cfg.classExtend&&(className+=cfg.classExtend+" "),className+=attrs.className||cfg.className,el.setAttribute("class",className),cfg.$ops.$view.registerComponent(element))}var cfg,pair,className,el=$el[0],chart=requirements[0],element=requirements[1];attrs.pair&&scope.$watch("pair",function(p){p&&(pair=chart.getReference(p)||null,pair||"-"!==p||(pair=void 0),build())}),scope.$watch("config",function(c){c&&(cfg=chart.getReference(c),build())})}}}])},function(module,exports,__webpack_require__){"use strict";var d3=__webpack_require__(2),angular=__webpack_require__(1);angular.module("vgraph").directive("vgraphLoading",["$interval",function($interval){return{require:["^vgraphChart"],link:function(scope,el,attrs,requirements){function pulse(){$filling.attr("x",function(){return left}).attr("width",function(){return 0}).transition().duration(1e3).attr("x",function(){return left}).attr("width",function(){return width}).ease("sine").transition().duration(1e3).attr("width",0).attr("x",function(){return right}).ease("sine").transition().duration(1e3).attr("width",function(){return width}).attr("x",function(){return left}).ease("sine").transition().duration(1e3).attr("x",function(){return left}).attr("width",0).ease("sine")}function startPulse(){!pulsing&&graph.loading&&($text.text("Loading Data"),$el.attr("visibility","visible"),pulsing=!0,$interval.cancel(interval),pulse(),interval=$interval(pulse,4005))}function stopPulse(){$el.attr("visibility","hidden"),pulsing=!1,$interval.cancel(interval)}function checkPulse(){stopPulse(),graph.loading&&box.ratio&&!graph.message&&startPulse()}var unsubscribe,interval,left,width,right,graph=requirements[0],pulsing=!1,box=graph.box,$el=d3.select(el[0]).attr("class","loading-view"),$outline=$el.append("rect").attr("height",20).attr("class","outline"),$filling=$el.append("rect").attr("width",0).attr("height",20).attr("class","filling"),$text=$el.append("text");box.$on("resize",function(){if(left=box.inner.left+box.inner.width/5,width=3*box.inner.width/5,right=left+width,width){$filling.attr("x",left).attr("y",box.middle-10),$outline.attr("x",left).attr("y",box.middle-10).attr("width",width);try{$text.attr("text-anchor","middle").attr("x",box.center).attr("y",box.middle+$text.node().getBBox().height/2-2)}catch(ex){$text.attr("text-anchor","middle").attr("x",box.center).attr("y",box.middle)}startPulse()}else stopPulse()}),startPulse(),unsubscribe=graph.$subscribe({error:checkPulse,rendered:checkPulse,configured:checkPulse}),scope.$on("$destroy",function(){stopPulse(),unsubscribe()})}}}])},function(module,exports,__webpack_require__){"use strict";var d3=__webpack_require__(2),angular=__webpack_require__(1);angular.module("vgraph").directive("vgraphMessage",[function(){return{require:["^vgraphChart"],link:function(scope,el,attrs,requirements){function checkMessage(){var msg=graph.message;msg?($el.attr("visibility","visible"),$text.text(msg)):$el.attr("visibility","hidden")}var unsubscribe,graph=requirements[0],box=graph.box,$el=d3.select(el[0]).attr("class","error-view"),$outline=$el.append("rect").attr("class","outline"),$text=$el.append("text");$el.attr("visibility","hidden"),box.$on("resize",function(){if(box.inner.height){$outline.attr("transform","translate("+box.inner.left+","+box.inner.top+")").attr("width",box.inner.width).attr("height",box.inner.height);try{$text.attr("text-anchor","middle").attr("x",box.center).attr("y",box.middle+$text.node().getBBox().height/2)}catch(ex){$text.attr("text-anchor","middle").attr("x",box.center).attr("y",box.middle)}}}),unsubscribe=graph.$subscribe({error:checkMessage,rendered:checkMessage,configured:checkMessage})}}}])},function(module,exports,__webpack_require__){"use strict";var ComponentPage=__webpack_require__(26);__webpack_require__(1).module("vgraph").directive("vgraphPage",[function(){return{restrict:"A",scope:{settings:"=vgraphPage"},controller:ComponentPage,require:["vgraphPage"],link:function($scope,$el,$attrs,requirements){var page=requirements[0];$scope.$watch("settings",function(settings){page.configure(settings)})}}}])},function(module,exports,__webpack_require__){"use strict";var DrawPie=__webpack_require__(40),ComponentElement=__webpack_require__(3);__webpack_require__(1).module("vgraph").directive("vgraphPie",[function(){return{scope:{config:"=vgraphPie",buckets:"=",options:"="},require:["^vgraphChart","vgraphPie"],controller:ComponentElement,link:function(scope,$el,attrs,requirements){function calcArea(){area.radius=(box.inner.width<box.inner.height?box.inner.width:box.inner.height)/2,area.x=box.inner.left+box.inner.width/2,area.y=box.inner.top+box.inner.height/2}var el=$el[0],area={},chart=requirements[0],box=chart.box,element=requirements[1];el.setAttribute("class","pie "+el.getAttribute("class")),calcArea(),box.$on("resize",calcArea),scope.$watch("config",function(config){var refs;config&&(refs=void 0!==config.length?config.slice(0):[config],refs.forEach(function(ref,i){refs[i]=chart.getReference(ref)}),element.configure(chart,new DrawPie(refs,scope.buckets,area,scope.options),el,attrs.name,attrs.publish),refs.forEach(function(ref){ref.$ops.$view.registerComponent(element)}))})}}}])},function(module,exports,__webpack_require__){"use strict";__webpack_require__(1).module("vgraph").directive("vgraphPublish",[function(){return{require:["^vgraphPage","^?vgraphChart"],scope:!0,link:function($scope,el,attrs,requirements){function manageChart(chart){Object.keys(content).forEach(function(key){chart.$on("publish:"+key,function(point){$scope[content[key]]=point,$scope.$digest()})})}var page=requirements[0],content=$scope.$eval(attrs.vgraphPublish);requirements[1]?manageChart(requirements[1]):page.requireChart(attrs.chart,manageChart)}}}])},function(module,exports,__webpack_require__){"use strict";var DrawSpiral=__webpack_require__(41),ComponentElement=__webpack_require__(3);__webpack_require__(1).module("vgraph").directive("vgraphSpiral",[function(){return{scope:{config:"=vgraphSpiral",labels:"=labels",index:"=index"},require:["^vgraphChart","vgraphSpiral"],controller:ComponentElement,link:function(scope,$el,attrs,requirements){var el=$el[0],chart=requirements[0],element=requirements[1],box=chart.box,className="spiral ";el.innerHTML="",scope.$watch("config",function(config){var cfg=chart.getReference(config);cfg&&(element.configure(chart,new DrawSpiral(cfg,box,scope.index,scope.labels,{step:parseInt(attrs.step||cfg.step,10)}),el,attrs.name,attrs.publish),cfg.classExtend&&(className+=cfg.classExtend+" "),className+=attrs.className||cfg.className,el.setAttribute("class",className),cfg.$ops.$view.registerComponent(element))})}}}])},function(module,exports,__webpack_require__){"use strict";var StatCalculations=__webpack_require__(18);__webpack_require__(1).module("vgraph").directive("vgraphStack",[function(){return{require:["^vgraphChart"],scope:{config:"=vgraphStack",feed:"=?feed"},link:function(scope,$el,attrs,requirements){function pairElements(cfgs){var i,c,cfg,last={};for(configs=[],i=0,c=cfgs.length;i<c;i++)cfg=graph.getReference(cfgs[i]),cfg.pair=last,last=cfg,configs.push(cfg)}function parseConf(cfgs){cfgs&&pairElements(cfgs)}var configs,unwatch,childScope,graph=requirements[0];scope.$watchCollection("config",parseConf),unwatch=scope.$watchCollection("config",parseConf),scope.$on("$destroy",function(){childScope&&childScope.$destroy(),unwatch()}),graph.registerComponent({parse:function(){configs&&(StatCalculations.$resetCalcs(configs),StatCalculations.stack(configs))}})}}}])},function(module,exports,__webpack_require__){"use strict";__webpack_require__(1).module("vgraph").directive("vgraphStatus",[function(){return{require:["^vgraphPage","^?vgraphChart"],scope:!0,link:function($scope,el,attrs,requirements){function manageChart(chart){function pushUpdate(){$scope[attrs.vgraphStatus]={message:chart.message,loading:chart.loading,pristine:chart.pristine},$scope.$$phase||$scope.$digest()}chart.$subscribe({error:pushUpdate,success:pushUpdate,configured:pushUpdate})}var page=requirements[0];requirements[1]?manageChart(requirements[1]):page.requireChart(attrs.chart,manageChart)}}}])},function(module,exports,__webpack_require__){"use strict";var d3=__webpack_require__(2),angular=__webpack_require__(1);angular.module("vgraph").directive("vgraphTarget",[function(){return{require:["^vgraphChart"],scope:{pointRadius:"=pointRadius",config:"=vgraphTarget"},link:function($scope,el,attrs,requirements){function highlight(point){point?(curX=point.pos.x,$el.style("visibility","visible").attr("transform","translate("+curX+",0)"),void 0===attrs.noDots&&angular.forEach(configs,function(cfg){var node,view=cfg.$ops.$view,datum=point[cfg.view],nodeName="tn_"+cfg.id,className=cfg.className,value=cfg.$ops.getValue(datum);void 0!==value&&null!==value?(node=$dots.selectAll("circle.point."+nodeName),node[0].length||(node=$dots.append("circle").attr("class","point "+className+" "+cfg.classExtend+" "+nodeName)),node.attr("cx",datum.$x-curX).attr("cy",view.y.scale(value)).attr("r",$scope.$eval(attrs.pointRadius)||3)):$dots.selectAll("circle.point."+nodeName).remove()})):$el.style("visibility","hidden")}var configs,curX,graph=requirements[0],box=graph.box,$el=d3.select(el[0]).attr("class","target"),$highlight=$el.append("line").attr("class","focus").attr("x1",0).attr("x2",0),$dots=$el.append("g");$el.style("visibility","hidden"),graph.$on("highlight",highlight),box.$on("resize",function(){$highlight.attr("y1",box.inner.top).attr("y2",box.inner.bottom)}),$scope.$watchCollection("config",function(cfgs){var i,c;if(configs=[],$dots.selectAll("circle.point").remove(),cfgs)for(i=0,c=cfgs.length;i<c;i++)cfgs[i]&&configs.push(graph.getReference(cfgs[i]))})}}}])},function(module,exports,__webpack_require__){"use strict";var d3=__webpack_require__(2);__webpack_require__(1).module("vgraph").directive("vgraphTooltip",[function(){function makeByConfig(graph,cfg){var ref=graph.getReference(cfg),format=cfg.format?function(point){return cfg.format(ref.$ops.getValue(point[ref.view]),point)}:function(point){return ref.$ops.getValue(point[ref.view])},x=cfg.xParse?function(point){return cfg.xParse(point[ref.view].$x,point)}:function(point){return point[ref.view].$x},y=cfg.yParse?function(point){return cfg.yParse(ref.$ops.$view.y.scale(ref.$ops.getValue(point[ref.view])),point)}:function(point){return ref.$ops.$view.y.scale(ref.$ops.getValue(point[ref.view]))};return{formatter:format,xParse:x,yParse:y}}function makeByReference(ref,cfg){var format=cfg.formatter?function(point){return cfg.formatter(point[ref],point)}:function(point){return point[ref].value},x=cfg.xParse?function(point){return cfg.xParse(point[ref],point)}:function(point){return point[ref].x},y=cfg.yParse?function(point){return cfg.yParse(point[ref],point)}:function(point){return point[ref].y};return{formatter:format,xParse:x,yParse:y}}function makeConfig(graph,cfg,$attrs){return $attrs.reference?makeByReference($attrs.reference,cfg):cfg.formatter?cfg:makeByConfig(graph,cfg)}return{require:["^vgraphChart"],scope:{config:"=?vgraphTooltip"},link:function(scope,el,attrs,requirements){var cfg,graph=requirements[0],xOffset=parseInt(attrs.offsetX)||0,yOffset=parseInt(attrs.offsetY)||0,$el=d3.select(el[0]).attr("class","tooltip"),$polygon=$el.append("polygon").attr("class","outline").attr("transform","translate(0,-15)"),$text=$el.append("text").style("line-height","20").style("font-size","16").attr("class","label");graph.$on("highlight",function(point){var $y,$x,value,width;point&&(value=cfg.yParse(point)),void 0!==value?($y=value+yOffset,$x=cfg.xParse(point)+xOffset,$text.text(cfg.formatter(point)),width=$text.node().getComputedTextLength()+5,$el.style("visibility","visible"),$x+width+16<graph.box.inner.right?($el.attr("transform","translate("+$x+","+$y+")"),$text.attr("transform","translate(10,5)"),$polygon.attr("points","0,15 10,0 "+(width+10)+",0 "+(width+10)+",30 10,30 0,15")):($el.attr("transform","translate("+($x-2*xOffset-width-10)+","+$y+")"),$text.attr("transform","translate(5,5)"),$polygon.attr("points","0,0 "+width+",0 "+(width+10)+",15 "+width+",30 0,30 0,0"))):$el.style("visibility","hidden")}),scope.$watch("config",function(config){cfg=makeConfig(graph,config,attrs)})}}}])},function(module,exports,__webpack_require__){"use strict";var d3=__webpack_require__(2);__webpack_require__(1).module("vgraph").directive("vgraphZoom",[function(){return{scope:{min:"=zoomMin",max:"=zoomMax"},require:["^vgraphChart","^vgraphPage"],link:function(scope,el,attrs,requirements){function redraw(ratio){0===minPos&&maxPos===box.inner.width?(zoomed=!1,$focus.attr("class","focus")):(zoomed=!0,$focus.attr("class","focus zoomed")),minPos<0&&(minPos=0),maxPos>box.inner.width&&(maxPos=box.inner.width),minPos>maxPos?minPos=maxPos:maxPos<minPos&&(maxPos=minPos),$left.attr("transform","translate("+minPos+",0)"),$leftShade.attr("transform","translate(-"+minPos+",0 )").attr("width",minPos),$right.attr("transform","translate("+maxPos+",0)"),$rightShade.attr("width",box.inner.width-maxPos),$focus.attr("transform","translate("+minPos+",0)").attr("width",maxPos-minPos),ratio&&zoom.setRatio(minPos/box.inner.width,maxPos/box.inner.width)}function calcZoom(){dragging||(minPos=zoom.left*box.inner.width,maxPos=zoom.right*box.inner.width,redraw())}var dragStart,minPos,maxPos,$leftDrag,$leftNub,$rightDrag,$rightNub,graph=requirements[0],page=requirements[1],box=graph.box,zoom=page.getZoom(attrs.vgraphZoom),dragging=!1,zoomed=!1,$el=d3.select(el[0]),$left=$el.append("g").attr("class","left-control min-control"),$leftShade=$left.append("rect").attr("class","shade"),$leftCtrl=$left.append("g").attr("class","control"),$focus=$el.append("rect").attr("class","focus"),$right=$el.append("g").attr("class","right-control max-control"),$rightShade=$right.append("rect").attr("class","shade"),$rightCtrl=$right.append("g").attr("class","control");$leftNub=$leftCtrl.append("path").attr("d","M-0.5,23.33A6,6 0 0 0 -6.5,29.33V40.66A6,6 0 0 0 -0.5,46.66ZM-2.5,31.33V38.66M-4.5,31.33V38.66").attr("transform","translate(0,-9)").attr("class","nub"),$leftDrag=$leftCtrl.append("rect").attr("width","10").attr("transform","translate(-10,0)"),$rightNub=$rightCtrl.append("path").attr("d","M0.5,23.33A6,6 0 0 1 6.5,29.33V40.66A6,6 0 0 1 0.5,46.66ZM2.5,31.33V38.66M4.5,31.33V38.66").attr("transform","translate(0,-9)").attr("class","nub"),$rightDrag=$rightCtrl.append("rect").attr("width","10"),scope.box=box,$leftDrag.call(d3.behavior.drag().on("dragstart",function(){dragging=!0}).on("dragend",function(){dragging=!1}).on("drag",function(){minPos=d3.mouse(el[0])[0],redraw(!0)})),$rightDrag.call(d3.behavior.drag().on("dragstart",function(){dragging=!0}).on("dragend",function(){dragging=!1}).on("drag",function(){maxPos=d3.mouse(el[0])[0],redraw(!0)})),$focus.call(d3.behavior.drag().on("dragstart",function(){dragStart={mouse:d3.mouse(el[0])[0],minPos:minPos,maxPos:maxPos},dragging=!0}).on("dragend",function(){dragging=!1,zoomed=!0}).on("drag",function(){var curr=d3.mouse(el[0]),dX=curr[0]-dragStart.mouse;zoomed?(maxPos=dragStart.maxPos+dX,minPos=dragStart.minPos+dX,redraw(!0)):dX>1&&(maxPos=dragStart.mouse+Math.abs(dX),minPos=dragStart.mouse-Math.abs(dX),redraw(!0),zoomed=!1)})),$el.on("dblclick",function(){maxPos=box.inner.width,minPos=0,redraw(!0)}),box.$on("resize",function(){$el.attr("width",box.inner.width).attr("height",box.inner.height).attr("transform","translate("+box.inner.left+","+box.inner.top+")"),$rightNub.attr("transform","translate(0,"+(box.inner.height/2-30)+")"),$leftNub.attr("transform","translate(0,"+(box.inner.height/2-30)+")"),$leftShade.attr("height",box.inner.height),$rightShade.attr("height",box.inner.height),$leftDrag.attr("height",box.inner.height),$rightDrag.attr("height",box.inner.height),$focus.attr("height",box.inner.height),calcZoom()}),zoom.$on("update",calcZoom),calcZoom()}}}])},function(module,exports,__webpack_require__){"use strict";module.exports={Bar:__webpack_require__(34),Box:__webpack_require__(15),Candlestick:__webpack_require__(35),Dots:__webpack_require__(36),Fill:__webpack_require__(37),Heatmap:__webpack_require__(38),Icon:__webpack_require__(39),Line:__webpack_require__(16),Linear:__webpack_require__(6),Pie:__webpack_require__(40),Spiral:__webpack_require__(41)}},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(1).module("vgraph",[])},function(module,exports,__webpack_require__){"use strict";module.exports={DomHelper:__webpack_require__(43),Eventing:__webpack_require__(8),Hitbox:__webpack_require__(44),makeBlob:__webpack_require__(46),Scheduler:__webpack_require__(45),svgColorize:__webpack_require__(47)}},function(module,exports){"use strict";var rnotwhite=/\S+/g,rclass=/[\t\r\n\f]/g;window.jQuery&&(window.jQuery.fn.addClass=function(value){var classes,elem,cur,clazz,j,finalValue,isSVG,proceed="string"==typeof value&&value,i=0,len=this.length;if(window.jQuery.isFunction(value))return this.each(function(j){window.jQuery(this).addClass(value.call(this,j,this.className))});if(proceed)for(classes=(value||"").match(rnotwhite)||[];i<len;i++)if(elem=this[i],isSVG="string"!=typeof elem.className,cur=1===elem.nodeType&&(elem.className?(" "+(isSVG?elem.getAttribute("class")||"":elem.className)+" ").replace(rclass," "):" ")){for(j=0;clazz=classes[j++];)cur.indexOf(" "+clazz+" ")<0&&(cur+=clazz+" ");finalValue=window.jQuery.trim(cur),elem.className!==finalValue&&(isSVG?elem.setAttribute("class",finalValue):elem.className=finalValue)}return this},window.jQuery.fn.removeClass=function(value){var classes,elem,cur,clazz,j,finalValue,isSVG,proceed=0===arguments.length||"string"==typeof value&&value,i=0,len=this.length;if(window.jQuery.isFunction(value))return this.each(function(j){window.jQuery(this).removeClass(value.call(this,j,this.className))});if(proceed)for(classes=(value||"").match(rnotwhite)||[];i<len;i++)if(elem=this[i],isSVG="string"!=typeof elem.className,cur=1===elem.nodeType&&(elem.className?(" "+(isSVG?elem.getAttribute("class")||"":elem.className)+" ").replace(rclass," "):"")){for(j=0;clazz=classes[j++];)for(;cur.indexOf(" "+clazz+" ")>=0;)cur=cur.replace(" "+clazz+" "," ");finalValue=value?window.jQuery.trim(cur):"",elem.className!==finalValue&&(isSVG?elem.setAttribute("class",finalValue):elem.className=finalValue)}return this})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(109),__webpack_require__(111),__webpack_require__(80),__webpack_require__(81),__webpack_require__(82),__webpack_require__(83),__webpack_require__(84),__webpack_require__(85),__webpack_require__(86),__webpack_require__(87),__webpack_require__(88),__webpack_require__(89),__webpack_require__(90),__webpack_require__(91),__webpack_require__(92),__webpack_require__(93),__webpack_require__(94),__webpack_require__(95),__webpack_require__(96),__webpack_require__(97),__webpack_require__(98),__webpack_require__(99),__webpack_require__(100),__webpack_require__(101),__webpack_require__(103),__webpack_require__(104),__webpack_require__(102),__webpack_require__(105),__webpack_require__(106),__webpack_require__(107)},function(module,exports){module.exports=jQuery},function(module,exports,__webpack_require__,__webpack_module_template_argument_0__,__webpack_module_template_argument_1__,__webpack_module_template_argument_2__,__webpack_module_template_argument_3__){"use strict";function proc(action,proto,def){var i,c;if(bmoor.isArray(def))for(i=0,c=def.length;i<c;i++)action(proto,def[i]);else action(proto,def)}function maker(root,config,base){return base||(base=function(){},config?bmoor.isFunction(root)?(base=function(){root.apply(this,arguments)},base.prototype=Object.create(root.prototype)):base.prototype=Object.create(root):config=root),config.mixin&&proc(mixin,base.prototype,config.mixin),config.decorate&&proc(decorate,base.prototype,config.decorate),config.plugin&&proc(plugin,base.prototype,config.plugin),base}var bmoor=__webpack_require__(__webpack_module_template_argument_0__),mixin=__webpack_require__(__webpack_module_template_argument_1__),plugin=__webpack_require__(__webpack_module_template_argument_2__),decorate=__webpack_require__(__webpack_module_template_argument_3__);maker.mixin=mixin,maker.decorate=decorate,maker.plugin=plugin,module.exports=maker},function(module,exports,__webpack_require__,__webpack_module_template_argument_0__){"use strict";function override(key,target,action){var old=target[key];void 0===old?target[key]=action:bmoor.isFunction(action)?bmoor.isFunction(old)?target[key]=function(){var rtn,backup=this.$old;return this.$old=old,rtn=action.apply(this,arguments),this.$old=backup,rtn}:console.log("attempting to decorate "+key+" an instance of "+("undefined"==typeof old?"undefined":_typeof(old))):console.log("attempting to decorate with "+key+" and instance of "+("undefined"==typeof action?"undefined":_typeof(action)))}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;
},bmoor=__webpack_require__(__webpack_module_template_argument_0__);module.exports=function(to,from){bmoor.iterate(from,function(val,key){override(key,to,val)})}},function(module,exports,__webpack_require__,__webpack_module_template_argument_0__){"use strict";var bmoor=__webpack_require__(__webpack_module_template_argument_0__);module.exports=function(to,from){bmoor.iterate(from,function(val,key){to[key]=val})}},function(module,exports,__webpack_require__,__webpack_module_template_argument_0__){"use strict";function override(key,target,action,plugin){var old=target[key];void 0===old?bmoor.isFunction(action)?target[key]=function(){return action.apply(plugin,arguments)}:target[key]=action:bmoor.isFunction(action)?bmoor.isFunction(old)?target[key]=function(){var rtn,backup=plugin.$old,reference=plugin.$target;return plugin.$target=target,plugin.$old=function(){return old.apply(target,arguments)},rtn=action.apply(plugin,arguments),plugin.$old=backup,plugin.$target=reference,rtn}:console.log("attempting to plug-n-play "+key+" an instance of "+("undefined"==typeof old?"undefined":_typeof(old))):console.log("attempting to plug-n-play with "+key+" and instance of "+("undefined"==typeof action?"undefined":_typeof(action)))}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},bmoor=__webpack_require__(__webpack_module_template_argument_0__);module.exports=function(to,from,ctx){bmoor.iterate(from,function(val,key){override(key,to,val,ctx)})}}]));